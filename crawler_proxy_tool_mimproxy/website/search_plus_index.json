{"./":{"url":"./","title":"前言","keywords":"","body":"抓包代理利器：mitmproxy 最新版本：v0.8 更新时间：20201231 简介 介绍主要用于抓包领域的代理工具mitmproxy，尤其是常用的命令行版的mitmdump。先对mitmproxy概述，再介绍mitmdump的下载和安装。包括Mac和Win中如何安装和常见问题。接下来介绍如何使用mitmdump，包括核心的通用逻辑，即先电脑端启动mitmdump代理，再去移动端初始阿虎安装mitmproxy的根证书ssl代理证书文件，其中总结了各种iOS和安卓手机在安装根证书时候的坑和问题及解决办法。再去介绍如何给移动端中WiFi去设置代理。总结了常见的问题，比如No module named yaml、traffic is not passing through mitmproxy等等。还有其他方面，比如代码中调用控制mitmdump的运行、win中如何给mitmdump的python打包成exe。最后附上help语法供需要时查阅。 源码+浏览+下载 本书的各种源码、在线浏览地址、多种格式文件下载如下： Gitbook源码 crifan/crawler_proxy_tool_mimproxy: 抓包代理利器：mitmproxy 如何使用此Gitbook源码去生成发布为电子书 详见：crifan/gitbook_template: demo how to use crifan gitbook template and demo 在线浏览 抓包代理利器：mitmproxy book.crifan.com 抓包代理利器：mitmproxy crifan.github.io 离线下载阅读 抓包代理利器：mitmproxy PDF 抓包代理利器：mitmproxy ePub 抓包代理利器：mitmproxy Mobi 版权说明 此电子书教程的全部内容，如无特别说明，均为本人原创和整理。其中部分内容参考自网络，均已备注了出处。如有发现侵犯您版权，请通过邮箱联系我 admin 艾特 crifan.com，我会尽快删除。谢谢合作。 鸣谢 感谢我的老婆陈雪的包容理解和悉心照料，才使得我crifan有更多精力去专注技术专研和整理归纳出这些电子书和技术教程，特此鸣谢。 更多其他电子书 本人crifan还写了其他100+本电子书教程，感兴趣可移步至： crifan/crifan_ebook_readme: Crifan的电子书的使用说明 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:42:27 "},"mitmproxy_overview/":{"url":"mitmproxy_overview/","title":"mitmproxy概述","keywords":"","body":"mitmproxy概述 mitmproxy 名词解析 mitmproxy=mitm的proxy mitm=MITM=Man-In-The-Middle 直译：人在中间 在中间 -> 首先要确保原先网络请求能继续 所以就是代理的功能：正常转发原有网络请求 但也可以干很多事情 比如 记录、保存网络请求 拦截（符合特定规则的）网络请求 （甚至）篡改、伪造成新的合法的或不合法的网络请求 相关：往往也被叫做 Man-In-The-Middle attack=中间人攻击 mitmproxy是一套工具的总称，包含 mitmproxy：交互式命令行工具 是什么=一句话概述 英文 mitmproxy is an interactive, SSL/TLS-capable intercepting proxy with a console interface for HTTP/1, HTTP/2, and WebSockets 中文 mitmproxy是一个代理工具 功能和特点 交互式的 支持https拦截 支持协议：HTTP/1、HTTP/2、WebSockets 产品形态：控制台console中显示交互界面 长什么样=截图 mitmweb：基于命令行的带UI界面 可以理解为：网页版的mitmproxy 是什么=一句话描述 mitmweb is a web-based interface for mitmproxy 长什么样=截图 mitmdump：命令行版本 是什么=一句话描述 mitmdump is the command-line version of mitmproxy. Think tcpdump for HTTP 类比 mitmdump之于mitmproxy 就像 tcpdump之于HTTP 可以理解为 命令行版本的Charles/Fiddler 主要用途：实现对网页、app的抓包 网址 官网文档 Introduction https://docs.mitmproxy.org/stable/ GitHub mitmproxy/mitmproxy: An interactive TLS-capable intercepting HTTP proxy for penetration testers and software developers https://github.com/mitmproxy/mitmproxy crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:40:03 "},"mitmdump/":{"url":"mitmdump/","title":"mitmdump","keywords":"","body":"mitmdump mitmdump是mitmproxy的命令行版本。 mitmproxy和mitmdump的用法和逻辑基本一致。 此处主要介绍mitmdump的使用。 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:39:58 "},"mitmdump/download.html":{"url":"mitmdump/download.html","title":"下载","keywords":"","body":"下载mitmproxy 官网下载地址： Downloads https://mitmproxy.org/downloads/#6.0.2/ 即可下载到对应系统的二进制可执行文件： Mac https://snapshots.mitmproxy.org/6.0.2/mitmproxy-6.0.2-osx.tar.gz Win https://snapshots.mitmproxy.org/6.0.2/mitmproxy-6.0.2-windows-installer.exe https://snapshots.mitmproxy.org/6.0.2/mitmproxy-6.0.2-windows.zip Linux https://snapshots.mitmproxy.org/6.0.2/mitmproxy-6.0.2-linux.tar.gz crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:39:56 "},"mitmdump/install/":{"url":"mitmdump/install/","title":"安装","keywords":"","body":"安装mitmproxy 下载到二进制文件后，（Mac、Win、Linux等）各个系统中，即可正常安装。 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:39:11 "},"mitmdump/install/mac.html":{"url":"mitmdump/install/mac.html","title":"Mac","keywords":"","body":"Mac Mac中也可以直接用brew去安装： brew install mitmproxy 也可以用Python中的pip去（给Python环境中）安装： pip install mitmproxy 注：如果后续mitmdump用到-s去加载的.py的python脚本中，用到了pyaml的话，则记得要先用pip安装pyyaml： pip instal pyyaml crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:38:54 "},"mitmdump/install/win.html":{"url":"mitmdump/install/win.html","title":"Win","keywords":"","body":"Win 安装遇到的问题 之前在win10中安装mitmproxy，遇到过2个问题： build _openssl.c error C2065 X509_V_FLAG_CB_ISSUER_CHECK undeclared identifier creating build\\temp.win-amd64-3.8\\Release\\build\\temp.win-amd64-3.8\\Release C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MD \"-Ic:\\program files\\python38\\include\" \"-Ic:\\program files\\python38\\include\" \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10240.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\8.1\\include\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\8.1\\include\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\8.1\\include\\winrt\" /Tcbuild\\temp.win-amd64-3.8\\Release\\_openssl.c /Fobuild\\temp.win-amd64-3.8\\Release\\build\\temp.win-amd64-3.8\\Release\\_openssl.obj _openssl.c build\\temp.win-amd64-3.8\\Release\\_openssl.c(1369): warning C4098: 'Cryptography_HMAC_CTX_free': 'void' function returning a value build\\temp.win-amd64-3.8\\Release\\_openssl.c(11095): error C2065: 'X509_V_FLAG_CB_ISSUER_CHECK': undeclared identifier build\\temp.win-amd64-3.8\\Release\\_openssl.c(11096): error C2065: 'X509_V_FLAG_CB_ISSUER_CHECK': undeclared identifier build\\temp.win-amd64-3.8\\Release\\_openssl.c(12429): warning C4013: 'ASN1_STRING_data' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(12429): warning C4047: 'return': 'unsigned char *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(12452): warning C4047: '=': 'unsigned char *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(13565): warning C4090: 'return': different 'const' qualifiers build\\temp.win-amd64-3.8\\Release\\_openssl.c(13575): warning C4090: '=': different 'const' qualifiers build\\temp.win-amd64-3.8\\Release\\_openssl.c(13589): warning C4090: 'return': different 'const' qualifiers build\\temp.win-amd64-3.8\\Release\\_openssl.c(13599): warning C4090: '=': different 'const' qualifiers build\\temp.win-amd64-3.8\\Release\\_openssl.c(16441): warning C4013: 'CRYPTO_cleanup_all_ex_data' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(16465): warning C4013: 'CRYPTO_get_locking_callback' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(16465): warning C4047: 'return': 'void (__cdecl *)(int,int,const char *,int)' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(16475): warning C4047: '=': 'void (__cdecl *)(int,int,const char *,int)' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(16575): warning C4013: 'CRYPTO_num_locks' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(16599): warning C4013: 'CRYPTO_set_locking_callback' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(19290): warning C4013: 'DTLSv1_client_method' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(19290): warning C4047: 'return': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(19300): warning C4047: '=': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(19350): warning C4013: 'DTLSv1_method' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(19350): warning C4047: 'return': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(19360): warning C4047: '=': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(19374): warning C4013: 'DTLSv1_server_method' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(19374): warning C4047: 'return': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(19384): warning C4047: '=': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(22275): warning C4013: 'ENGINE_cleanup' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(23380): warning C4013: 'ENGINE_load_dynamic' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(23404): warning C4013: 'ENGINE_load_openssl' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(25957): warning C4013: 'EVP_CIPHER_CTX_cleanup' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(26094): warning C4013: 'EVP_CIPHER_CTX_init' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(32153): warning C4013: 'OBJ_cleanup' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(34129): warning C4090: 'return': different 'const' qualifiers build\\temp.win-amd64-3.8\\Release\\_openssl.c(34152): warning C4090: '=': different 'const' qualifiers build\\temp.win-amd64-3.8\\Release\\_openssl.c(34609): warning C4013: 'OPENSSL_config' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(34709): warning C4013: 'OPENSSL_no_config' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(34793): warning C4013: 'OpenSSL_add_all_algorithms' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(38288): warning C4013: 'RAND_cleanup' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(46480): warning C4090: 'function': different 'const' qualifiers build\\temp.win-amd64-3.8\\Release\\_openssl.c(46520): warning C4090: 'function': different 'const' qualifiers build\\temp.win-amd64-3.8\\Release\\_openssl.c(46713): warning C4013: 'SSL_library_init' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(46773): warning C4013: 'SSL_load_error_strings' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(49146): warning C4013: 'TLSv1_1_client_method' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(49146): warning C4047: 'return': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49156): warning C4047: '=': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49170): warning C4013: 'TLSv1_1_method' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(49170): warning C4047: 'return': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49180): warning C4047: '=': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49194): warning C4013: 'TLSv1_1_server_method' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(49194): warning C4047: 'return': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49204): warning C4047: '=': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49218): warning C4013: 'TLSv1_2_client_method' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(49218): warning C4047: 'return': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49228): warning C4047: '=': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49242): warning C4013: 'TLSv1_2_method' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(49242): warning C4047: 'return': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49252): warning C4047: '=': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49266): warning C4013: 'TLSv1_2_server_method' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(49266): warning C4047: 'return': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49276): warning C4047: '=': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49290): warning C4013: 'TLSv1_client_method' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(49290): warning C4047: 'return': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49300): warning C4047: '=': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49314): warning C4013: 'TLSv1_method' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(49314): warning C4047: 'return': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49324): warning C4047: '=': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49338): warning C4013: 'TLSv1_server_method' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(49338): warning C4047: 'return': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(49348): warning C4047: '=': 'const SSL_METHOD *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(50421): warning C4013: 'X509_CRL_get_lastUpdate' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(50421): warning C4047: 'return': 'ASN1_OCTET_STRING *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(50444): warning C4047: '=': 'ASN1_OCTET_STRING *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(50457): warning C4013: 'X509_CRL_get_nextUpdate' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(50457): warning C4047: 'return': 'ASN1_OCTET_STRING *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(50480): warning C4047: '=': 'ASN1_OCTET_STRING *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(50659): warning C4013: 'X509_CRL_set_lastUpdate' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(50712): warning C4013: 'X509_CRL_set_nextUpdate' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(53826): warning C4013: 'X509_STORE_CTX_get_chain' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(53826): warning C4047: 'return': 'Cryptography_STACK_OF_X509 *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(53849): warning C4047: '=': 'Cryptography_STACK_OF_X509 *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(54363): warning C4013: 'X509_STORE_CTX_set_chain' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(54620): warning C4013: 'X509_STORE_CTX_trusted_stack' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(57001): warning C4013: 'X509_get_notAfter' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(57001): warning C4047: 'return': 'ASN1_OCTET_STRING *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(57024): warning C4047: '=': 'ASN1_OCTET_STRING *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(57037): warning C4013: 'X509_get_notBefore' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(57037): warning C4047: 'return': 'ASN1_OCTET_STRING *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(57060): warning C4047: '=': 'ASN1_OCTET_STRING *' differs in levels of indirection from 'int' build\\temp.win-amd64-3.8\\Release\\_openssl.c(57500): warning C4013: 'X509_set_notAfter' undefined; assuming extern returning int build\\temp.win-amd64-3.8\\Release\\_openssl.c(57553): warning C4013: 'X509_set_notBefore' undefined; assuming extern returning int error: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 14.0\\\\VC\\\\BIN\\\\x86_amd64\\\\cl.exe' failed with exit status 2 ---------------------------------------- ERROR: Failed building wheel for cryptography Running setup.py clean for cryptography Failed to build cryptography ERROR: Could not build wheels for cryptography which use PEP 517 and cannot be installed directly 经过一番折腾，但最后是没解决。 具体过程详见： 【未解决】windows中pip安装mitmproxy报错： build _openssl.c error C2065 X509_V_FLAG_CB_ISSUER_CHECK undeclared identifier ERROR: Could not build wheels for cryptography which use PEP 517 and cannot be installed directly > pip install mitmproxy ...... Collecting pycparser Using cached https://files.pythonhosted.org/packages/68/9e/49196946aee219aead1290e00d1e7fdeab8567783e83e1b9ab5585e6206a/pycparser-2.19.tar.gz Building wheels for collected packages: cryptography Building wheel for cryptography (PEP 517) ... error ERROR: Command errored out with exit status 1: command: 'c:\\program files\\python38\\python.exe' 'c:\\program files\\python38\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py' build_wheel 'C:\\Users\\xxx~1\\AppData\\Local\\Temp\\tmp38qbzrlq' cwd: C:\\Users\\xxx\\AppData\\Local\\Temp\\pip-install-x4h_xxr8\\cryptography Complete output (112 lines): running bdist_wheel running build running build_py creating build creating build\\lib.win-amd64-3.8 creating build\\lib.win-amd64-3.8\\cryptography copying src\\cryptography\\exceptions.py -> build\\lib.win-amd64-3.8\\cryptography copying src\\cryptography\\fernet.py -> build\\lib.win-amd64-3.8\\cryptography copying src\\cryptography\\utils.py -> build\\lib.win-amd64-3.8\\cryptography copying src\\cryptography\\__about__.py -> build\\lib.win-amd64-3.8\\cryptography copying src\\cryptography\\__init__.py -> build\\lib.win-amd64-3.8\\cryptography creating build\\lib.win-amd64-3.8\\cryptography\\hazmat copying src\\cryptography\\hazmat\\_oid.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat copying src\\cryptography\\hazmat\\__init__.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat creating build\\lib.win-amd64-3.8\\cryptography\\x509 copying src\\cryptography\\x509\\base.py -> build\\lib.win-amd64-3.8\\cryptography\\x509 copying src\\cryptography\\x509\\certificate_transparency.py -> build\\lib.win-amd64-3.8\\cryptography\\x509 copying src\\cryptography\\x509\\extensions.py -> build\\lib.win-amd64-3.8\\cryptography\\x509 copying src\\cryptography\\x509\\general_name.py -> build\\lib.win-amd64-3.8\\cryptography\\x509 copying src\\cryptography\\x509\\name.py -> build\\lib.win-amd64-3.8\\cryptography\\x509 copying src\\cryptography\\x509\\ocsp.py -> build\\lib.win-amd64-3.8\\cryptography\\x509 copying src\\cryptography\\x509\\oid.py -> build\\lib.win-amd64-3.8\\cryptography\\x509 copying src\\cryptography\\x509\\__init__.py -> build\\lib.win-amd64-3.8\\cryptography\\x509 creating build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends copying src\\cryptography\\hazmat\\backends\\interfaces.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends copying src\\cryptography\\hazmat\\backends\\__init__.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends creating build\\lib.win-amd64-3.8\\cryptography\\hazmat\\bindings copying src\\cryptography\\hazmat\\bindings\\__init__.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\bindings creating build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives copying src\\cryptography\\hazmat\\primitives\\cmac.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives copying src\\cryptography\\hazmat\\primitives\\constant_time.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives copying src\\cryptography\\hazmat\\primitives\\hashes.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives copying src\\cryptography\\hazmat\\primitives\\hmac.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives copying src\\cryptography\\hazmat\\primitives\\keywrap.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives copying src\\cryptography\\hazmat\\primitives\\mac.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives copying src\\cryptography\\hazmat\\primitives\\padding.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives copying src\\cryptography\\hazmat\\primitives\\serialization.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives copying src\\cryptography\\hazmat\\primitives\\__init__.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives creating build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\aead.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\backend.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\ciphers.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\cmac.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\decode_asn1.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\dh.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\dsa.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\ec.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\encode_asn1.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\hashes.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\hmac.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\ocsp.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\rsa.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\utils.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\x25519.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\x509.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl copying src\\cryptography\\hazmat\\backends\\openssl\\__init__.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\backends\\openssl creating build\\lib.win-amd64-3.8\\cryptography\\hazmat\\bindings\\openssl copying src\\cryptography\\hazmat\\bindings\\openssl\\binding.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\bindings\\openssl copying src\\cryptography\\hazmat\\bindings\\openssl\\_conditional.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\bindings\\openssl copying src\\cryptography\\hazmat\\bindings\\openssl\\__init__.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\bindings\\openssl creating build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\asymmetric copying src\\cryptography\\hazmat\\primitives\\asymmetric\\dh.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\asymmetric copying src\\cryptography\\hazmat\\primitives\\asymmetric\\dsa.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\asymmetric copying src\\cryptography\\hazmat\\primitives\\asymmetric\\ec.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\asymmetric copying src\\cryptography\\hazmat\\primitives\\asymmetric\\padding.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\asymmetric copying src\\cryptography\\hazmat\\primitives\\asymmetric\\rsa.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\asymmetric copying src\\cryptography\\hazmat\\primitives\\asymmetric\\utils.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\asymmetric copying src\\cryptography\\hazmat\\primitives\\asymmetric\\x25519.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\asymmetric copying src\\cryptography\\hazmat\\primitives\\asymmetric\\__init__.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\asymmetric creating build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\ciphers copying src\\cryptography\\hazmat\\primitives\\ciphers\\aead.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\ciphers copying src\\cryptography\\hazmat\\primitives\\ciphers\\algorithms.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\ciphers copying src\\cryptography\\hazmat\\primitives\\ciphers\\base.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\ciphers copying src\\cryptography\\hazmat\\primitives\\ciphers\\modes.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\ciphers copying src\\cryptography\\hazmat\\primitives\\ciphers\\__init__.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\ciphers creating build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\kdf copying src\\cryptography\\hazmat\\primitives\\kdf\\concatkdf.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\kdf copying src\\cryptography\\hazmat\\primitives\\kdf\\hkdf.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\kdf copying src\\cryptography\\hazmat\\primitives\\kdf\\kbkdf.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\kdf copying src\\cryptography\\hazmat\\primitives\\kdf\\pbkdf2.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\kdf copying src\\cryptography\\hazmat\\primitives\\kdf\\scrypt.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\kdf copying src\\cryptography\\hazmat\\primitives\\kdf\\x963kdf.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\kdf copying src\\cryptography\\hazmat\\primitives\\kdf\\__init__.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\kdf creating build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\twofactor copying src\\cryptography\\hazmat\\primitives\\twofactor\\hotp.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\twofactor copying src\\cryptography\\hazmat\\primitives\\twofactor\\totp.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\twofactor copying src\\cryptography\\hazmat\\primitives\\twofactor\\utils.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\twofactor copying src\\cryptography\\hazmat\\primitives\\twofactor\\__init__.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\twofactor running egg_info writing src\\cryptography.egg-info\\PKG-INFO writing dependency_links to src\\cryptography.egg-info\\dependency_links.txt writing requirements to src\\cryptography.egg-info\\requires.txt writing top-level names to src\\cryptography.egg-info\\top_level.txt reading manifest file 'src\\cryptography.egg-info\\SOURCES.txt' reading manifest template 'MANIFEST.in' no previously-included directories found matching 'docs\\_build' warning: no previously-included files matching '*' found under directory 'vectors' writing manifest file 'src\\cryptography.egg-info\\SOURCES.txt' running build_ext generating cffi module 'build\\\\temp.win-amd64-3.8\\\\Release\\\\_padding.c' creating build\\temp.win-amd64-3.8 creating build\\temp.win-amd64-3.8\\Release generating cffi module 'build\\\\temp.win-amd64-3.8\\\\Release\\\\_constant_time.c' generating cffi module 'build\\\\temp.win-amd64-3.8\\\\Release\\\\_openssl.c' building '_openssl' extension creating build\\temp.win-amd64-3.8\\Release\\build creating build\\temp.win-amd64-3.8\\Release\\build\\temp.win-amd64-3.8 creating build\\temp.win-amd64-3.8\\Release\\build\\temp.win-amd64-3.8\\Release C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MD \"-Ic:\\program files\\python38\\include\" \"-Ic:\\program files\\python38\\include\" \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10240.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\8.1\\include\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\8.1\\include\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\8.1\\include\\winrt\" /Tcbuild\\temp.win-amd64-3.8\\Release\\_openssl.c /Fobuild\\temp.win-amd64-3.8\\Release\\build\\temp.win-amd64-3.8\\Release\\_openssl.obj _openssl.c build\\temp.win-amd64-3.8\\Release\\_openssl.c(498): fatal error C1083: Cannot open include file: 'openssl/opensslv.h': No such file or directory error: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 14.0\\\\VC\\\\BIN\\\\x86_amd64\\\\cl.exe' failed with exit status 2 ---------------------------------------- ERROR: Failed building wheel for cryptography Running setup.py clean for cryptography Failed to build cryptography ERROR: Could not build wheels for cryptography which use PEP 517 and cannot be installed directly 也试了： pip install cryptography 但问题依旧。 以及： python -m pip install --no-use-pep517 mitmproxy 但报其他错误： copying src\\cryptography\\hazmat\\primitives\\twofactor\\__init__.py -> build\\lib.win-amd64-3.8\\cryptography\\hazmat\\primitives\\twofactor running egg_info writing src\\cryptography.egg-info\\PKG-INFO writing dependency_links to src\\cryptography.egg-info\\dependency_links.txt writing requirements to src\\cryptography.egg-info\\requires.txt writing top-level names to src\\cryptography.egg-info\\top_level.txt reading manifest file 'src\\cryptography.egg-info\\SOURCES.txt' reading manifest template 'MANIFEST.in' no previously-included directories found matching 'docs\\_build' warning: no previously-included files matching '*' found under directory 'vectors' writing manifest file 'src\\cryptography.egg-info\\SOURCES.txt' running build_ext generating cffi module 'build\\\\temp.win-amd64-3.8\\\\Release\\\\_padding.c' creating build\\temp.win-amd64-3.8 creating build\\temp.win-amd64-3.8\\Release generating cffi module 'build\\\\temp.win-amd64-3.8\\\\Release\\\\_constant_time.c' generating cffi module 'build\\\\temp.win-amd64-3.8\\\\Release\\\\_openssl.c' building '_openssl' extension creating build\\temp.win-amd64-3.8\\Release\\build creating build\\temp.win-amd64-3.8\\Release\\build\\temp.win-amd64-3.8 creating build\\temp.win-amd64-3.8\\Release\\build\\temp.win-amd64-3.8\\Release C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MD \"-IC:\\Program Files\\Python38\\include\" \"-IC:\\Program Files\\Python38\\include\" \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10240.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\8.1\\include\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\8.1\\include\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\8.1\\include\\winrt\" /Tcbuild\\temp.win-amd64-3.8\\Release\\_openssl.c /Fobuild\\temp.win-amd64-3.8\\Release\\build\\temp.win-amd64-3.8\\Release\\_openssl.obj _openssl.c build\\temp.win-amd64-3.8\\Release\\_openssl.c(498): fatal error C1083: Cannot open include file: 'openssl/opensslv.h': No such file or directory error: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 14.0\\\\VC\\\\BIN\\\\x86_amd64\\\\cl.exe' failed with exit status 2 ---------------------------------------- Rolling back uninstall of cryptography Moving to c:\\program files\\python38\\lib\\site-packages\\cryptography-2.8.dist-info\\ from C:\\Program Files\\Python38\\Lib\\site-packages\\~ryptography-2.8.dist-info Moving to c:\\program files\\python38\\lib\\site-packages\\cryptography\\ from C:\\Program Files\\Python38\\Lib\\site-packages\\~ryptography ERROR: Command errored out with exit status 1: 'C:\\Program Files\\Python38\\python.exe' -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\xxx\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wkntcchc\\\\cryptography\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\xxx\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wkntcchc\\\\cryptography\\\\setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record 'C:\\Users\\xxx\\AppData\\Local\\Temp\\pip-record-dqgnm_3i\\install-record.txt' --single-version-externally-managed --compile Check the logs for full command output. 以及其他折腾。 但最后是没解决。 具体过程详见： 【未解决】windows中pip install mitmproxy失败：ERROR Could not build wheels for cryptography which use PEP 517 and cannot be installed directly crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:39:16 "},"mitmdump/usage/":{"url":"mitmdump/usage/","title":"如何使用","keywords":"","body":"如何使用 在（Mac、Win等）PC端安装了mitmproxy后，自带mitmdump。 此处介绍如何去使用mitmdump。 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:39:52 "},"mitmdump/usage/common.html":{"url":"mitmdump/usage/common.html","title":"通用逻辑","keywords":"","body":"通用逻辑 核心的通用逻辑是： 电脑端 启动mitmdump代理 移动端 （初始化，只需第一次）安装mitmproxy的根证书 给WiFi设置（PC端的mitmdump的）代理 即可正常使用代理，实现给移动端抓包等功能。 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:39:47 "},"mitmdump/usage/pc_run/":{"url":"mitmdump/usage/pc_run/","title":"电脑端启动mitmdump","keywords":"","body":"电脑端启动mitmdump代理 比如，PC端运行对应命令： mitmdump -k -p 8081 -s middleware/Save1.py 即可。 接下来分不同平台详细介绍具体细节。 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:39:38 "},"mitmdump/usage/pc_run/mac.html":{"url":"mitmdump/usage/pc_run/mac.html","title":"Mac","keywords":"","body":"Mac 接着介绍，如何在Mac中使用mitmdump 举例： Mac中终端去运行： mitmdump -k -p 8081 -s middleware/Save1.py 启动mitmdump的代理 然后给手机端加上此处Mac的mitmdump的代理 即可实现：脚本Save1.py把手机端发出的所有的url=请求=链接地址（还可以根据自己需要做一定过滤处理后再）保存起来（比如保存到一个文件中），供后续使用。 说明 此处的Save1.py是个python脚本 具体内容： # _*_ coding: utf-8 _*_ import json import re import os import sys # print(\"sys.executable=%s\" % sys.executable) try: import yaml except Exception as err: print(\"Failed to import yaml: %s\" % err) class Saver: def __init__(self): self.Allurls = set() self.DataFilePath = self.get_DataFilePath() self.REMOVED = self.get_NeedSkip() def get_DataFilePath(self): # SavePath = \"./middleware/Save.json\" SavePath = os.path.join(\"middleware\", \"Save.json\") with open(SavePath,\"r\",encoding=\"utf-8\") as f: text = f.read() data = json.loads(text) return data[\"1\"] def get_NeedSkip(self): # filepath = \"./middleware/config.yml\" filepath = os.path.join(\"middleware\", \"config.yml\") try: with open(filepath, \"r\", encoding=\"utf-8\") as f: text = f.read() except Exception: with open(filepath, \"r\") as f: text = f.read() config = yaml.load(text) REMOVED = [item.replace('.','\\.') for item in config[\"skip\"]] return \"|\".join(REMOVED) def get_ContentType(self, headers): ContentType = \"None\" patten = \"b'Accept', b'(.*?)'\" result = re.search(patten, headers) if result: ContentType = result.group(1) ContentType = ContentType.split(\",\")[0] return ContentType if not \"*\" in ContentType else \"None\" def request(self, flow): url = flow.request.url ContentType = self.get_ContentType(str(flow.request.headers)) if not url in self.Allurls and not re.search(self.REMOVED, url): self.Allurls.add(url) print(url) with open(self.DataFilePath, \"a\", encoding=\"utf-8\") as f: f.write(url + \"|\" + ContentType) f.write('\\n') addons = [Saver()] 若想要后台运行，则后面加& mitmdump -k -p 8081 -s middleware/Save1.py & crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:39:34 "},"mitmdump/usage/mobile_install/":{"url":"mitmdump/usage/mobile_install/","title":"移动端安装根证书","keywords":"","body":"移动端安装mitmproxy根证书 通用逻辑 即给移动端手机中安装mitmproxy的 SSL代理证书=ssl证书=根证书=root CA 核心逻辑： 手机中浏览器中打开 http://mitm.it 然后根据提示去下载（pem或crt）证书（文件） 点击安装证书文件 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:39:31 "},"mitmdump/usage/mobile_install/ios.html":{"url":"mitmdump/usage/mobile_install/ios.html","title":"iOS","keywords":"","body":"iOS 此处整理iOS的iPhone手机中，安装mitmproxy的根证书的详细情况： iOS iPhone 详见 【已解决】给iPhone添加mitmproxy的mitmdump代理用于保存抓包链接到文件 【已解决】iPhone8P中安装mitmproxy的CA的ssl证书 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:39:25 "},"mitmdump/usage/mobile_install/android.html":{"url":"mitmdump/usage/mobile_install/android.html","title":"Android","keywords":"","body":"Android 此处整理安卓手机中，安装mitmproxy的根证书，对于不同手机的详细情况： Android 华为 荣耀 【记录】给安卓手机中安装mitmproxy代理的SSL证书 【记录】给自动抓包工具的安卓手机设置mitmproxy代理用于能抓包到链接地址 小米 小米9 相关 【已解决】安卓手机小米9中安装mitmproxy的SSL代理证书 【无需解决】小米9中WLAN或WAPI证书中找不到mitmproxy的SSL的pem证书文件 【无法解决】小米9中用ES文件管理器安装pem证书 红米Note8Pro 问题 用微信或小米浏览器无法下载pem证书文件 解决办法： 换QQ浏览器就可以正常下载pem证书文件 mitmproxy-ca-cert.pem 细节 不能用： 微信 点击Android无反应 小米浏览器 点击Android，弹框下载：perm.crt 而不是希望的：mitmproxy-ca-cert.pem 关键是：始终无法下载成功 只能用：QQ浏览器 点击Android，可以弹框下载：mitmproxy-ca-cert.pem 是我们希望的pem证书 也可以正常（瞬间）下载完毕 详见 【无法解决】红米Note8Pro中用微信或小米浏览器下载mitmproxy的SSL代理证书 【已解决】红米Note8Pro中用QQ浏览器下载mitmproxy的Android的SSL代理证书 相关 【已解决】红米Note8Pro中安装mitmproxy的SSL代理证书 红米10X 问题：下载证书失败 自带小米浏览器 可弹框下载pem.crt，但下载失败 QQ浏览器 可弹框下载mitmproxy-ca-cert.pem，但下载失败 偶然甚至会提示： if you can see this, traffic is not passing through mitmproxy UC浏览器 可弹框下载mitmproxy-ca-cert.pem，但下载失败 偶然甚至会提示： if you can see this, traffic is not passing through mitmproxy 解决办法： 试了多次，最后终于： UC浏览器 可弹框并成功下载mitmproxy-ca-cert.pem 详见： 【已解决】红米10X安卓手机中无法下载mitmproxy的证书文件 Vivo iQOO U1x 用QQ浏览器无法下载pem文件，提示下载失败 解决办法：换Vivo的内置浏览器，即可下载 mitmproxy-ca-cert.pem 直接点击pem证书文件，无法安装：未找到证书文件 问题现象 QQ浏览器下载到mitmproxy-ca-cert.pem，直接点击提示：找不到对应程序打开该文件 更多安全设置-》从手机存储和SD卡安装，点击提示：未找到证书文件 从文件管理中点击已下载的mitmproxy-ca-cert.pem，选 证书安装程序，也提示：未找到证书文件 原因：Vivo不支持pem证书文件，只支持crt证书文件 解决办法：把文件pem后缀改为crt 点击即可正常安装 详见： 【已解决】给安卓手机ViVo的iQOO U1x下载和安装mitmproxy的SSL代理证书 【已解决】安卓手机Vivo的iQOO U1x中手动安装mitmproxy-ca-cert.pem证书文件 【已解决】安卓手机Vivo的iQOO U1x中点击安装mitmproxy的pem证书报错：未找到证书文件 【未解决】给安卓手机Vivo的iQOO U1x初始化mitmdump的代理环境 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:39:21 "},"mitmdump/usage/mobile_cfg_wifi_proxy.html":{"url":"mitmdump/usage/mobile_cfg_wifi_proxy.html","title":"移动端给WiFi设置代理","keywords":"","body":"移动端给WiFi设置代理 之后再去给移动端的WiFi设置（PC端的mitmdump的）代理（信息）。 细节详见 如何添加代理 移动端 · 网络中转站：代理技术 此处简单举例如下： iOS iPhone crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:39:49 "},"common_issue/":{"url":"common_issue/","title":"常见问题","keywords":"","body":"常见问题 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:38:48 "},"common_issue/no_yaml.html":{"url":"common_issue/no_yaml.html","title":"No module named yaml","keywords":"","body":"No module named yaml 现象 Mac中用brew安装了mitmproxy，然后去运行： mitmdump -p 8081 -s middleware/Save1.py 但是报错： No module named yaml 原因 Mac中通过brew安装的mitmproxy，会调用自己内部安装的python（此处是3.7.5） 而不是Mac中自己Python（2.7或3.8），mac中的python中都安装过yaml了 而mitmproxy中python，没有安装过yaml，所以上述脚本会报错。 解决办法 不要用brew安装，而是用系统中的python的pip去安装mitmproxy pip install mitmproxy 注：系统中的python是,此处是用的3.8，用pyenv设置全局为3.8 另外此处2.7的python中，pip安装mitmproxy会失败。 之后即可正常调用 mitmdump -p 8081 -s middleware/Save1.py 其中python解析器用的是此处系统的python了，因此可以正常找到（系统中python中已安装的）yaml，而不会报错了。 具体细节详见： 【基本解决】Mac中mitmdump运行命令报错：in script py No module named yaml crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:38:45 "},"common_issue/traffic_not_passing_through.html":{"url":"common_issue/traffic_not_passing_through.html","title":"traffic is not passing through mitmproxy","keywords":"","body":"if you can see this, traffic is not passing through mitmproxy 现象 手机中浏览器打开 http://mitm.it 后，看到页面提示： if you can see this, traffic is not passing through mitmproxy 原因 需要你手机中WiFi加上PC端的mitmproxy（mitmdump）的代理后，打开 http://mitm.it 后才能正常显示页面 解决办法 PC端（Mac）中启动mitmproxy的代理 举例 mitmdump -k -p 8081 -s middleware/Save1.py 然后再给手机端的当前WiFi中加上对应的mitmdump的代理 细节详见： 【已解决】红米Note8Pro中去下载mitmproxy证书提示：if you can see this, traffic is not passing through mitmproxy crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:38:51 "},"other/":{"url":"other/","title":"其他","keywords":"","body":"其他 此处整理一些和mitmdump相关的其他内容。 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:40:18 "},"other/code_run.html":{"url":"other/code_run.html","title":"代码调用","keywords":"","body":"代码调用 背景需求 Mac中想要用Python代码去控制mitmdump，即可以启动和停止mitmdump 问题就转化为，Mac中如何写Python代码，能够检测到mitmdump的进程状态，如何解析具体信息，如何杀死对应，mitmdump进程等过程。 最后代码 def stopExistingMitmproxy(curDevId): logging.info(\"curDevId=%s\", curDevId) curDevIdInt = int(curDevId) isCheckCmdRunOk, mitmdumpInfoList = checkMitmdumpStatus() logging.info(\"isCheckCmdRunOk=%s, mitmdumpInfoList=%s\", isCheckCmdRunOk, mitmdumpInfoList) isRunning = bool(mitmdumpInfoList) logging.info(\"isRunning=%s\", isRunning) if isCheckCmdRunOk and isRunning: foundExistedDevId = False existedPid = None for eachMitmdumpInfo in mitmdumpInfoList: eachDevId = eachMitmdumpInfo[\"devId\"] if eachDevId == curDevIdInt: foundExistedDevId = True existedPid = eachMitmdumpInfo[\"pid\"] break if foundExistedDevId: killOK, errCode = utils.killProcess(existedPid) logging.info(\"killOK=%s, errCode=%s\", killOK, errCode) def debugStartProxy(): stopExistingMitmproxy(gCurDevId) taskFileFullPath = \"/Users/limao/dev/xxx/crawler/appAutoCrawler/AppCrawler/task/191115_card_DongKaKongJian/191115_card_DongKaKongJian_wexin.txt\" taskId = \"5e9552d1c5c2eb3ccdf777bc\" startTaskProxy(taskId, gCurDevId, taskFileFullPath) time.sleep(2) isCheckCmdRunOk, mitmdumpInfoList = checkMitmdumpStatus() logging.info(\"isCheckCmdRunOk=%s, mitmdumpInfoList=%s\", isCheckCmdRunOk, mitmdumpInfoList) def checkMitmdumpStatus(): # check mitmdump is indeed running isCheckCmdRunOk, mitmdumpInfoList = False, [] checkMitmdumpCmd = \"ps aux | grep mitmdump\" isCheckCmdRunOk, cmdResult = utils.getCommandOutput(checkMitmdumpCmd) logging.info(\"isCheckCmdRunOk=%s, cmdResult=%s\", isCheckCmdRunOk, cmdResult) if isCheckCmdRunOk: # resultList = cmdResult.split(\"\\n\") resultList = cmdResult.split(os.linesep) logging.info(\"resultList=%s\", resultList) # limao 56562 0.0 0.0 4267948 664 s006 R+ 5:53下午 0:00.00 grep mitmdump # limao 56560 0.0 0.0 4268636 1112 s006 S+ 5:53下午 0:00.00 /bin/sh -c ps aux | grep mitmdump # limao 55396 0.0 0.1 4381268 11568 s011 S+ 5:19下午 0:05.04 /Users/limao/.pyenv/versions/3.8.0/Python.framework/Versions/3.8/Resources/Python.app/Contents/MacOS/Python /Users/limao/.pyenv/versions/3.8.0/bin/mitmdump -p 8081 -s middleware/Save1.py if resultList: for eachLine in resultList: logging.info(\"eachLine=%s\", eachLine) mitmdumpP = \"^\\s*(?P\\w+)\\s+(?P\\d+)\\s+.+?mitmdump\\s+-p\\s+(?P\\d+)\\s+-s\\s+(?Pmiddleware/Save(?P\\d+)\\.py)\\s*$\" foundMitmdump = re.search(mitmdumpP, eachLine) logging.info(\"foundMitmdump=%s\", foundMitmdump) if foundMitmdump: username = foundMitmdump.group(\"username\") pid = foundMitmdump.group(\"pid\") port = foundMitmdump.group(\"port\") devId = foundMitmdump.group(\"devId\") scriptFile = foundMitmdump.group(\"scriptFile\") logging.info(\"username=%s, pid=%s, port=%s, scriptFile=%s, devId=%s\", username, pid, port, scriptFile, devId) curMitmdumpDict = { \"username\": username, \"pid\": int(pid), \"port\": int(port), \"scriptFile\": scriptFile, \"devId\": int(devId), } mitmdumpInfoList.append(curMitmdumpDict) logging.info(\"mitmdumpInfoList=%s\", mitmdumpInfoList) return isCheckCmdRunOk, mitmdumpInfoList def killProcess(pid): \"\"\"Kill process by pid Args: pid (id): process ID Returns: Raises: \"\"\" isKillOk, errCode = False, 0 pidInt = int(pid) killCmd = \"kill -9 %s\" % pidInt returnCode = os.system(killCmd) logging.debug(\"Command: %s -> returnCode=%s\", killCmd, returnCode) RETURN_CODE_OK = 0 if returnCode == RETURN_CODE_OK: isKillOk = True else: errCode = returnCode return isKillOk, errCode 基本完成了想要的功能： 在启动任务前，启动mitmproxy 如果之前已有当前设备id的mitmdump在运行，就kill掉 因为很可能是之前的旧的task的对应的代理，所以要关闭掉，再重新启动，才能传递当前task的data文件 然后再去启动mitmproxy，之后再去检测看看是否的确已启动 后续优化版本 MitmdumpPortBase = 8080 curDevId = 1 RunProxyShellFilename = \"runProxy.sh\" def generateShellFile(fileContentStr, shellFilename, taskId=None): \"\"\"Generate shell file, which is used to run command such as mitmdump proxy crawlerStart.py USB port forward wda server(xcodebuild/XCode) \"\"\" logging.debug(\"fileContentStr=%s, shellFilename=%s, taskId=%s\", fileContentStr, shellFilename, taskId) if taskId: shellFolder = getTaskShellFolder(taskId) # /Users/limao/dev/xxx/crawler/appAutoCrawler/AppCrawler/platformIntegration/output/tasks/5e9552d1c5c2eb3ccdf777bc/shell else: shellFolder = OutputRootFolder logging.debug(\"shellFolder=%s\", shellFolder) shellFullPath = os.path.join(shellFolder, shellFilename) logging.debug(\"shellFullPath=%s\", shellFullPath) # /Users/limao/dev/xxx/crawler/appAutoCrawler/AppCrawler/platformIntegration/output/tasks/5e9552d1c5c2eb3ccdf777bc/shell/runProxy.sh shellAbsFullPath = os.path.abspath(shellFullPath) logging.debug(\"shellAbsFullPath=%s\", shellAbsFullPath) respShellFullPath = shellAbsFullPath utils.saveTextToFile(respShellFullPath, fileContentStr) utils.chmodAddX(shellFullPath, isOnlySelf=False) # utils.chmodAddX(respShellFullPath) logging.debug(\"respShellFullPath=%s\", respShellFullPath) # /Users/limao/dev/xxx/crawler/appAutoCrawler/AppCrawler/platformIntegration/output/tasks/5e9552d1c5c2eb3ccdf777bc/shell/runProxy.sh return respShellFullPath #---------- generate start service command ---------- def generateMitmproxyStartCommand(curDevId): curMitmdumpPort = MitmdumpPortBase + int(curDevId) # mitmproxyStartCommand = \"mitmdump -p %d -s middleware/Save%d.py\" % (curMitmdumpPort, curDevId) mitmproxyStartCommand = \"mitmdump -k -p %d -s middleware/Save%d.py\" % (curMitmdumpPort, curDevId) logging.debug(\"mitmproxyStartCommand=%s\", mitmproxyStartCommand) # mitmdump -k -p 8081 -s middleware/Save1.py mitmproxyCommandList = [ # \"cd /Users/limao/dev/xxx/crawler/appAutoCrawler/AppCrawler\", \"cd %s\" % AppCralwerFolder, \"pwd\", mitmproxyStartCommand, ] logging.debug(\"mitmproxyCommandList=%s\", mitmproxyCommandList) # ['cd /Users/limao/dev/xxx/crawler/appAutoCrawler/AppCrawler', 'pwd', 'mitmdump -k -p 8081 -s middleware/Save1.py'] # mitmproxyCommandStr = \";\".join(mitmproxyCommandList) # mitmproxyCommandStr = \"; \".join(mitmproxyCommandList) mitmproxyCommandStr = \"\\n\".join(mitmproxyCommandList) # cd /Users/limao/dev/xxx/crawler/appAutoCrawler/AppCrawler # pwd # mitmdump -k -p 8081 -s middleware/Save1.py logging.debug(\"mitmproxyCommandStr=%s\", mitmproxyCommandStr) return mitmproxyCommandStr #---------- generate shell file ---------- def generateRunProxyShell(devId, taskId): mitmproxyCmdStr = generateMitmproxyStartCommand(devId) logging.debug(\"mitmproxyCmdStr=%s\", mitmproxyCmdStr) return generateShellFile(mitmproxyCmdStr, RunProxyShellFilename, taskId) #---------- detect service status ---------- def detectMitmdumpStatus(): # crifanli 9428 0.0 0.6 4341956 19792 s006 S+ 9:16上午 0:23.78 /Users/crifanli/.pyenv/versions/3.8.3/bin/python3.8 /Users/crifanli/.pyenv/versions/3.8.3/bin/mitmdump -k -p 8081 -s middleware/Save1.py # crifanli 10982 0.0 0.0 4268032 776 s005 S+ 1:51下午 0:00.00 grep mitmdump # crifanli 10980 0.0 0.0 4278852 1116 s005 S+ 1:51下午 0:00.01 /bin/sh -c ps aux | grep mitmdump # mitmdumpP = \"^\\s*(?P\\w+)\\s+(?P\\d+)\\s+.+?mitmdump\\s+-p\\s+(?P\\d+)\\s+-s\\s+(?Pmiddleware/Save(?P\\d+)\\.py)\\s*$\" mitmdumpP = \"^\\s*(?P\\w+)\\s+(?P\\d+)\\s+.+?mitmdump\\s+(-k\\s+)?-p\\s+(?P\\d+)\\s+-s\\s+(?Pmiddleware/Save(?P\\d+)\\.py)\\s*$\" return utils.grepProcessStatus(\"mitmdump\", mitmdumpP) def startTaskProxy(devId, taskId): logging.info(\"Start proxy for: devId=%s, taskId=%s\", devId, taskId) proxyShellFile = generateRunProxyShell(devId, taskId) logging.debug(\"proxyShellFile=%s\", proxyShellFile) utils.launchTerminalRunShellCommand(proxyShellFile) #---------- makesure service running ---------- def makesureProxyingRunning(devId, taskId): def checkProxyStatus(): isCheckOk, isRunning, infoList = detectMitmdumpStatus() return isCheckOk and isRunning def startCurTaskProxy(): startTaskProxy(devId, taskId) makesureServiceRunning(checkProxyStatus, startCurTaskProxy, \"Proxy\") 相关的： other/common/libs/utils.py import re #------------------------------------------------------------------------------- # Process #------------------------------------------------------------------------------- def runCommand(consoleCommand): \"\"\"run command using subprocess call\"\"\" isRunCmdOk = False errMsg = \"Unknown Error\" try: resultCode = subprocess.check_call(consoleCommand, shell=True) if resultCode == 0: isRunCmdOk = True errMsg = \"\" else: isRunCmdOk = False errMsg = \"%s return code %s\" % (consoleCommand, resultCode) except subprocess.CalledProcessError as callProcessErr: isRunCmdOk = False errMsg = str(callProcessErr) # \"Command 'ffmpeg -y -i /Users/crifan/.../debug/extractAudio/show_112233_video.mp4 -ss 00:00:05.359 -to 00:00:06.763 -b:a 128k /.../show_112233_video_000005359_000006763.mp3 2> /dev/null' returned non-zero exit status 1.\" return isRunCmdOk, errMsg def getCommandOutput(consoleCommand, consoleOutputEncoding=\"utf-8\"): \"\"\" get command output from terminal \"\"\" # print(\"getCommandOutput: consoleCommand=%s\" % consoleCommand) isRunCmdOk = False consoleOutput = \"\" try: # consoleOutputByte = subprocess.check_output(consoleCommand) consoleOutputByte = subprocess.check_output(consoleCommand, shell=True) # commandPartList = consoleCommand.split(\" \") # print(\"commandPartList=%s\" % commandPartList) # consoleOutputByte = subprocess.check_output(commandPartList) # print(\"type(consoleOutputByte)=%s\" % type(consoleOutputByte)) # # print(\"consoleOutputByte=%s\" % consoleOutputByte) # b'640x360\\n' consoleOutput = consoleOutputByte.decode(consoleOutputEncoding) # '640x360\\n' consoleOutput = consoleOutput.strip() # '640x360' isRunCmdOk = True except subprocess.CalledProcessError as callProcessErr: cmdErrStr = str(callProcessErr) print(\"Error %s for run command %s\" % (cmdErrStr, consoleCommand)) # print(\"isRunCmdOk=%s, consoleOutput=%s\" % (isRunCmdOk, consoleOutput)) return isRunCmdOk, consoleOutput def launchTerminalRunShellCommand(shellFile, isForceNewInstance=True, isUseiTerm2=False): \"\"\"in Mac, Launch terminal(Mac Terminal / iTerm2) and execute shell file, which contain command to run Args: shellFile (str): shell file full path isUseiTerm2 (bool): True to use iTerm2, False to use Mac builtin Terminal isForceNewInstance (bool): whether pase -n to open, which means: Open a new instance of the application even if one is already running Returns: Raises: \"\"\" logging.debug(\"shellFile=%s, isForceNewInstance=%s, isUseiTerm2=%s\", shellFile, isForceNewInstance, isUseiTerm2) TerminalApp_iTerm2 = '/Applications/iTerm.app' TerminalApp_Terminal = 'Terminal' if isUseiTerm2: terminalApp = TerminalApp_iTerm2 else: terminalApp = TerminalApp_Terminal cmdList = [ \"/usr/bin/open\", ] if isForceNewInstance: cmdList.append(\"-n\") extarArgs = shellFile restCmdList = [ \"-a\", terminalApp, '--args', extarArgs, ] cmdList.extend(restCmdList) logging.debug(\"cmdList=%s\" % cmdList) curProcess = subprocess.Popen(cmdList, stdin=subprocess.PIPE, stdout=subprocess.PIPE) logging.debug(\"curProcess=%s\" % curProcess) returnCode = None while True: returnCode = curProcess.poll() logging.debug(\"returnCode=%s\", returnCode) if returnCode is not None: logging.debug(\"subprocess end: returnCode=%s\", returnCode) break time.sleep(0.5) logging.debug(\"Final returnCode=%s\", returnCode) logging.debug(\"Complete launch %s and run shell %s\", terminalApp, shellFile) def killProcess(pid): \"\"\"Kill process by pid Args: pid (id): process ID Returns: Raises: \"\"\" isKillOk, errCode = False, 0 pidInt = int(pid) killCmd = \"kill -9 %s\" % pidInt returnCode = os.system(killCmd) logging.debug(\"Command: %s -> returnCode=%s\", killCmd, returnCode) RETURN_CODE_OK = 0 if returnCode == RETURN_CODE_OK: isKillOk = True else: errCode = returnCode return isKillOk, errCode def grepProcessStatus(processFile, singleLinePattern, psCmd=\"ps aux\"): \"\"\"grep process info status from ps output Args: processFile (str): process file name singleLinePattern (str): single process line search pattern psCmd (str): ps command, default: ps aux Returns: Raises: Examples: input: \"crawlerStart.py\", \"^\\s*(?P\\w+)\\s+(?P\\d+)\\s+.+?python\\s+crawlerStart\\.py\\s+-task\\s+(?P\\S+)\\s+-id\\s+(?P\\d+)$\" output: [{'username': 'limao', 'pid': '64320', 'taskFile': '/Users/limao/dev/xxx/crawler/appAutoCrawler/AppCrawler/task/191115_card_DongKaKongJian/191115_card_DongKaKongJian_wexin.txt', 'curDevId': '1'}] \"\"\" logging.debug(\"processFile=%s, singleLinePattern=%s\", processFile, singleLinePattern) isCheckCmdRunOk, isRunning, processInfoList = False, False, [] groupNameList = re.findall(\"\\(\\?P\", singleLinePattern) logging.debug(\"groupNameList=%s\", groupNameList) # groupNameList=['username', 'pid', 'port', 'scriptFile', 'devId'] grepProcessCmd = \"%s | grep %s\" % (psCmd, processFile) logging.debug(\"grepProcessCmd=%s\", grepProcessCmd) isCheckCmdRunOk, cmdResult = getCommandOutput(grepProcessCmd) logging.debug(\"isCheckCmdRunOk=%s, cmdResult=%s\", isCheckCmdRunOk, cmdResult) if isCheckCmdRunOk: # lineSeparator = \"\\n\" lineSeparator = os.linesep resultList = cmdResult.split(lineSeparator) logging.debug(\"resultList=%s\", resultList) # limao 56562 0.0 0.0 4267948 664 s006 R+ 5:53下午 0:00.00 grep mitmdump # limao 56560 0.0 0.0 4268636 1112 s006 S+ 5:53下午 0:00.00 /bin/sh -c ps aux | grep mitmdump # limao 55396 0.0 0.1 4381268 11568 s011 S+ 5:19下午 0:05.04 /Users/limao/.pyenv/versions/3.8.0/Python.framework/Versions/3.8/Resources/Python.app/Contents/MacOS/Python /Users/limao/.pyenv/versions/3.8.0/bin/mitmdump -p 8081 -s middleware/Save1.py if resultList: for eachLine in resultList: logging.debug(\"eachLine=%s\", eachLine) foundProcess = re.search(singleLinePattern, eachLine) logging.debug(\"foundProcess=%s\", foundProcess) if foundProcess: curProcessInfoDict = {} for eachKey in groupNameList: curValue = foundProcess.group(eachKey) curProcessInfoDict[eachKey] = curValue logging.debug(\"curProcessInfoDict=%s\", curProcessInfoDict) processInfoList.append(curProcessInfoDict) isRunning = bool(processInfoList) logging.debug(\"isRunning=%s, processInfoList=%s\", isRunning, processInfoList) return isCheckCmdRunOk, isRunning, processInfoList 注： 相关库文件的最新版，详见： https://github.com/crifan/crifanLibPython/blob/master/python3/crifanLib/crifanSystem.py grepProcessStatus killProcess launchTerminalRunShellCommand getCommandOutput runCommand crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:40:08 "},"other/package_exe.html":{"url":"other/package_exe.html","title":"打包exe","keywords":"","body":"打包exe windows中用PyInstaller打包python脚本为exe文件 其中python脚本调用到mitmdump 可以理解为：打包mitmdump的Python为exe 核心命令： pyinstaller pymitmdump\\mitmdumpStartApi.py --distpath pymitmdumpstartdist --add-data \"pymitmdump\\mitmdump_executable;mitmdump_executable\" --add-data \"pymitmdump\\mitmdumpUrlSaver.py;.\" pyinstaller pymitmdump\\mitmdumpOtherApi.py --distpath pymitmdumpotherdist 可以生成2个exe文件。 细节详见：【已解决】windows中用PyInstaller打包mitmdump的Python脚本为exe crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:40:14 "},"appendix/":{"url":"appendix/","title":"附录","keywords":"","body":"附录 下面列出相关参考资料。 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:38:31 "},"appendix/help_syntax.html":{"url":"appendix/help_syntax.html","title":"help语法","keywords":"","body":"help语法 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:38:28 "},"appendix/reference.html":{"url":"appendix/reference.html","title":"参考资料","keywords":"","body":"参考资料 【已解决】Mac中安装Mitmdump和启动服务 【基本解决】Mac中mitmdump运行命令报错：in script py No module named yaml 【未解决】windows中pip安装mitmproxy报错： build _openssl.c error C2065 X509_V_FLAG_CB_ISSUER_CHECK undeclared identifier 【未解决】windows中pip install mitmproxy失败：ERROR Could not build wheels for cryptography which use PEP 517 and cannot be installed directly 【已解决】iPhone8P中安装mitmproxy的CA的ssl证书 【已解决】给iPhone添加mitmproxy的mitmdump代理用于保存抓包链接到文件 【记录】给安卓手机中安装mitmproxy代理的SSL证书 【记录】给自动抓包工具的安卓手机设置mitmproxy代理用于能抓包到链接地址 【已解决】安卓手机小米9中安装mitmproxy的SSL代理证书 【无需解决】小米9中WLAN或WAPI证书中找不到mitmproxy的SSL的pem证书文件 【无法解决】小米9中用ES文件管理器安装pem证书 【无法解决】红米Note8Pro中用微信或小米浏览器下载mitmproxy的SSL代理证书 【已解决】红米Note8Pro中用QQ浏览器下载mitmproxy的Android的SSL代理证书 【已解决】红米10X安卓手机中无法下载mitmproxy的证书文件 【已解决】给安卓手机ViVo的iQOO U1x下载和安装mitmproxy的SSL代理证书 【已解决】安卓手机Vivo的iQOO U1x中手动安装mitmproxy-ca-cert.pem证书文件 【已解决】安卓手机Vivo的iQOO U1x中点击安装mitmproxy的pem证书报错：未找到证书文件 【未解决】给安卓手机Vivo的iQOO U1x初始化mitmdump的代理环境 【已解决】给VMWare中macOS中抓包项目开启mitmdump代理 【已解决】红米Note8Pro中去下载mitmproxy证书提示：if you can see this, traffic is not passing through mitmproxy 【已解决】windows中用PyInstaller打包mitmdump的Python脚本为exe 【已解决】自动抓包平台化：Python调用命令行启动mitmproxy代理 Mitmproxy教程 - zha0gongz1 - 博客园 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-12-31 18:38:38 "}}