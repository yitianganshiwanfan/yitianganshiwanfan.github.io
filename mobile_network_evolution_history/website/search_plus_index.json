{"./":{"url":"./","title":"前言","keywords":"","body":"移动网络演化史 最新版本：v1.0 更新时间：20200915 简介 总结移动网络的演化历史，包括相关的1G、2G和GSM、3G和UMTS及CDMA2000、4G和LTE、5G和NR等网络的名称和背后所用的核心技术要点，以及相关的IMS等实现多媒体服务的方案，以及IMS的概述、架构、核心元素、相关协议如SIP等，以及基于IMS之上的VoLTE、RCS、ViLTE、VoWiFi等常见功能。 源码+浏览+下载 本书的各种源码、在线浏览地址、多种格式文件下载如下： Gitbook源码 crifan/mobile_network_evolution_history: 移动网络演化史 如何使用此Gitbook源码去生成发布为电子书 详见：crifan/gitbook_template: demo how to use crifan gitbook template and demo 在线浏览 移动网络演化史 book.crifan.com 移动网络演化史 crifan.github.io 离线下载阅读 移动网络演化史 PDF 移动网络演化史 ePub 移动网络演化史 Mobi 版权说明 此电子书教程的全部内容，如无特别说明，均为本人原创和整理。其中部分内容参考自网络，均已备注了出处。如有发现侵犯您版权，请通过邮箱联系我 admin 艾特 crifan.com，我会尽快删除。谢谢合作。 鸣谢 感谢我的老婆陈雪的包容理解和悉心照料，才使得我crifan有更多精力去专注技术专研和整理归纳出这些电子书和技术教程，特此鸣谢。 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 15:45:50 "},"mobile_net_overview/":{"url":"mobile_net_overview/","title":"移动网络概述","keywords":"","body":"移动网络概述 总结移动网络相关知识。 概述 从1G到5G 相关名词和术语 5GC Core gNB, AMF, SMF, NSSF, UDM, AUSF, UPF 4G LTE eNB, MME, SGW, PGW, HSS, EIR, PCRF, OCS & OFCS IMS CSCFs, HSS, MGCF, MGW, AS, OCS & OFCS 3G NB, HNB, HNBGW, RNC, MSC, SGSN, GGSN 2G BTS, BSC, MSC, HLR, EIR, VLR, SMSC, GMSC TDM | PSTN ISDN, ISUP, CAS requires additional PSTN Network setup Supports IPSec, TLS, SRTP, and MSRP 不同实现 GL Simulation of CSFB for Voice and SMS over SGs Interface Simulation of IP-SM-GW for SMS over IMS Network 其他 网络接口 背景 不同网络，不同运营商，很复杂 希望不同用户可以互相沟通 涉及到 不同网络之间的沟通： NNI=Network-to-Network Interface 终端网络和用户之间的沟通 UNI=User-to-Network Interface VoLTE和RCS 共同特点 都是基于IMS架构演化出的新功能 共存 运营商部署VoLTE时，往往也会部署RCS 用于一步到位，支持全IP的网络 RCS可看成是旧的SMS和MMS的演化 在某些特定场景下，（比如信号不够好？）VoLTE也会用CS的服务作为补充 以RCS为基础的VoWiFi的电话，有时候可以作为VoLTE和CS的补充 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 13:33:34 "},"net_generation/":{"url":"net_generation/","title":"网络阶段","keywords":"","body":"网络阶段 移动网络发展总体上经过了5代，分别是： 1G 2G 3G 4G 5G crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 09:08:01 "},"net_generation/1g.html":{"url":"net_generation/1g.html","title":"1G","keywords":"","body":"1G 1G=AMPS/TACS/NMT/C-Netz 信号编码方式：FDMA FDMA=Frequency Division Multiple Access 协议标准 AMPS 美国 TACS 英国 NMT 北欧 C-Netz 德国 ABC网络=A、B、C Network A=A-line B=B-grid C=C-grid 出现时间：1992年 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 15:23:41 "},"net_generation/2g/":{"url":"net_generation/2g/","title":"2G","keywords":"","body":"2G 2G=GSM / D-AMPS / IS-95 概述 2G包含：GSM、CDMA （其他不常用的 D-AMPS、IS-95） 单个手机同时支持GSM和CDMA，被称为双模dual-mode ？ GSM比CDMA用的更广泛 编码方式=数据接入方式=数据接入技术=access technology TDMA TDMA=Time Division Multiple Access D-AMPS有时候也被叫做：TDMA 协议标准standard GSM=Global System for Mobile Communications 别称：2G 编码方式：FDMA 和 TDMA的组合 频谱 范围 uplink上行：890 MHz ~ 915 MHz downlink下行：935 MHz ~ 960 MHz 别称：P-GSM P-GSM=Primary GSM 后续 上下行都新增10MHz 传输速度： 最大14.4 kb/s 基于：传统ABC网络 最大 171.2 kb/s 基于：GPRS GPRS=General Packet Radio Service 是什么：一种服务 介于UMTS和GSM之间 和设备建立永久连接 但只在必要时传输数据 相关 always-on mode 别称：2.5G 最大 384kb/s 基于：EDGE EDGE EDGE=Enhanced Data for Global Evolution =Enhanced Data Rates for GSM Evolution 是什么：一种传输技术 是GSM网络中的传输技术 基于GSM衍化出的 传输速度：最大384kb/s 基于ECSD扩展出 E-GPRS=Enhanced GPRS HSCSD 别称：2.75G 主要用途： 打电话☎️ 老式电话telephony 也用于 数据传输 短消息=SMS=短信 基于 CS=Circuit-Switched PS=Packet-Switched crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 15:21:42 "},"net_generation/2g/gsm.html":{"url":"net_generation/2g/gsm.html","title":"GSM","keywords":"","body":"GSM GSM 架构 包含 NSS=Network Switching Subsystem=网络交换子系统 别称：GSM核心网络=GSM core network 包含 MSC=Mobile Switching Center MSCS=Mobile Switching Center Server 有2种 SMSC=Short Message Service Center 全称：SMS-SC=Short Message Service - Service Center 是什么：一个网络节点 移动电话网络中的一个节点 作用：存储、转发、转换、传送SMS短信 具体实现 举例 Network Elements and Architecture Network Infrastructure GMSC=Gateway Mobile Switching Center 相关架构 Full MVNO network architecture - GPRS Full MVNO network architecture - GSM Full MVNO network architecture - LTE 连接到MSC的元素 HLR=Home Locator Register 获取SIM和MSISDN（如手机号）等数据 BSS=Base Station Subsystems 负责2G和2.5G手机的无线电通讯 UTRAN=UMTS Terrestrial Radio Access Network 负责3G手机的无线电通讯 VLR=Visitor Location Register 提供用户的信息 当用户不在家庭网络中 HLR=Home Locator Register 是什么：一个数据库 数据：已注册到移动核心网络的移动用户数据 即所有的SIM卡信息 每个SIM卡有个唯一的IMSI 每个SIM卡有个MSISDN MSISDN：手机号码 AuC=Authentication Center 是什么：是一个功能function=模块 功能：认证（想要连接到GSM网络的）SIM卡 比如：当手机开机（上电）后 目的：确保有权限使用相关服务 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 09:35:49 "},"net_generation/3g/":{"url":"net_generation/3g/","title":"3G","keywords":"","body":"3G 3G=UMTS/CDMA2000 概述 编码方式 都是 CDMA CDMA=Code Division Multiple Access 2条技术路线 track UMTS 从GSM发展而来 CDMA2000 从IS-95 和 D-AMPS 演化而来 IS-95 别称：cdmaOne 别称： CDMA2000 1xRTT IS-2000 协议标准standard UMTS CDMA2000 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 13:41:57 "},"net_generation/3g/umts.html":{"url":"net_generation/3g/umts.html","title":"UMTS","keywords":"","body":"UMTS UMTS UMTS=Universal Mobile Telecommunication System =UMTS broadband =3G =the third generation 属于 PS=Packet-Switched网络 之前的GSM和EDGE也是PS网络 可利用现有资源=网络节点 SGSN GGSN 编码和传输 最大速度 downlink下行：2 Mb/s + uplink上行：128 kb/s 基于：WCDMA WCDMA=Wideband Code Division Multiple Access 21 Mb/s 基于：HSPA =HSPA+ HSDPA=High Speed Packet Access downlink下行：HSDPA HSDPA=High Speed Downlink Packet Access 别称 =3.5G =3G+ UMTS broadband 是什么：UMTS网络中的一种传输技术 最大速度： 3.6Mb/s ~ 7.2Mb/s 发布时间：2007年 特点 支持（在移动网络中）实现DSL-like = xDSL 数据传输 相关网络运营商 Vodafone E-Plus O2 Swisscom Sunrise Orange A1 T-Mobile uplink上行：HSUPA HSUPA=High Speed Uplink Packet Access 是什么：UMTS网络中的一种传输技术 最大速度：5.8 Mb/s 具体 HSUPA Category 6：5.76 Mb/s HSUPA Category 9：23 Mb/s 逻辑关系 是UMTS Release 9的一部分 出现时间：2004年 相关历史 最早是ETSI制定的UMTS 后来被ITU采纳了 以及出现了3GPP 3GPP=3rd Generation Partnership Project 其中的3rd Generation，就是3G 就是为了3G弄了个组织，用于协调统一各方标准，实现3G网络推广 最新情况：3GPP制定的UMTS标准 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 13:41:25 "},"net_generation/3g/cdma2000.html":{"url":"net_generation/3g/cdma2000.html","title":"CDMA2000","keywords":"","body":"CDMA2000 CDMA2000 最大速度 EV-DO=EVDO EVDO=Evolved Data Optimized 下行downlink：14.7 Mb/s 上行uplink：5.4 Mb/s crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 13:42:23 "},"net_generation/4g/":{"url":"net_generation/4g/","title":"4G","keywords":"","body":"4G 4G=LTE/WiMax LTE=Long Term Evolution (of mobile networks) =4G=the fourth generation=4G standard 最大速度：300 Mb/s 2条技术路线 LTE 演化自UMTS和CDMA2000 目前主流是LTE WiMax WiMax=Worldwide Interoperability for Microwave Access 协议标准 LTE crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 13:43:10 "},"net_generation/4g/lte.html":{"url":"net_generation/4g/lte.html","title":"LTE","keywords":"","body":"LTE LTE 编码方式： downlink下行：OFDMA OFDMA=Orthogonal FDMA 适合多用户 uplink上行：SC-FDMA SC-FDMA=Single-Carrier FDMA 能效比高，适合用电池的移动手机 最大传输速度 LTE 下行：300 Mb/s 上行：75 Mb/s LTE-A=LTE Advanced 下行：1Gb/s LTE Advanced Pro 下行：3Gb/s LTE Advanced Pro 支持 MIMO=Multiple-Input Multiple-Output CA=Carrier Aggregation 相关名词 TTI=Transmission Time Interval HARQ=Hybrid Automatic Repeat Request crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 14:20:31 "},"net_generation/5g/":{"url":"net_generation/5g/","title":"5G","keywords":"","body":"5G TODO: 把 Qualcomm Future of 5G Building a unified, more capable 5G air interface for the next decade and beyond The-5G-Guide_GSMA_2019_04_29_compressed.pdf 中关于5G技术内容整理过来 关于5G更多细节，详见：5G技术概述 5G =fifth generation 3GPP组织制定的标准 概述 频段范围 FR1=Frequency Range 1 包括 sub-6 GHz FR2=Frequency Range 2 包括了mmWave=mm-wave的24–100GHz 2G到5G频谱对比 相关技术 Massive MIMO 应用 概览 5G标准版本历史 5G标准版本历史 图 THE 3GPP ROADMAP FOR RELEASE 15 AND 16 文字 2015年：开始研究 2017年：第一次发布 5G NSA 2018年：3GPP Release 15=5G phase 1 eMBB=Enhanced Mobile Broadband URLLC=Ultra-Reliable and Low Latency Communication 2020年6月：3GPP Release 16=5G phase 2 mMTC=massive Machine Type Communication V2V=Vehicle to Vehicle 预计2021年：Release 17 4G vs 5G Technology Data Rates Latency Mobility Support Spectrum Efficiency Users Density Energy Efficiency 5G (NR) Avg 100 Mb/sPeak 20 Gb/s ~ 1 ms >500 Km/h x3 BetterDL- 30 bits/HzUL- 15bits/Hz 1000K/Km2 x100 Better 4G (LTE) Avg 25 Mb/sPeak 300 Mb/s ~10- 50 ms DL – 6 bits/HzUL- 4 Bits/Hz ~ 2K/Km2 Moderate 运营商支持5G情况 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 15:16:31 "},"net_generation/5g/nr.html":{"url":"net_generation/5g/nr.html","title":"NR","keywords":"","body":"NR NR =New Radio 编码方式：OFDM 路线图 5G NR TECHNOLOGY ROADMAP 部署 基于已有4G LTE的：NSA=Non-StandAlone 纯5G的：SA=StandAlone crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 14:47:41 "},"net_generation/summary.html":{"url":"net_generation/summary.html","title":"总结","keywords":"","body":"总结 概览 网络演化历史 文字 精简 2G=GSM 编码方式：TDMA和FDMA 包含 2.5G=GPRS 2.75G=EDGE 3G=UMTS 编码方式：WCDMA 包含 3.5G=HSDPA 4G=LTE 编码方式：OFDMA和SC-FDMA 5G=NR 详细 1G AMPS、NMT、C-Netz、TACS 编码方式：FDMA 2G GSM 编码方式：FDMA和TDMA 传输方式 GPRS =2.5G EDGE 2.75G D-AMPS IS-95=cdmaOne 3G UMTS：来自GSM WCDMA HSPA+ 3.5G=HSDPA DC-HSPA+ CDMA2000：来自IS-95=cdmaOne EVDO 4G LTE TD-LTE FDD 5G NR 不同代的网络 演化图 1G到5G 移动网络每10年进化一代 4G和5G在语音和数据方面的发展路线 2G到LTE CDMA到LTE 架构图 2G和3G High-level network diagram for GSM (2G) and UMTS (3G) 3G和4G High-level network diagram for UMTS (3G) and LTE (4G) 2G、3G、4G GL’s SMS Test Suite for LTE, UMTS, and GSM Networks 2G 3G 4G COMMUNICATIONS NETWORKS 2G、3G、4G、5G Wireless Network Simulation (5G, 4G, 3G, 2G, IP, TDM) crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 14:50:14 "},"ims/":{"url":"ims/","title":"IMS","keywords":"","body":"IMS 此处介绍IMS技术。 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 09:43:07 "},"ims/overview.html":{"url":"ims/overview.html","title":"IMS概述","keywords":"","body":"IMS概述 IMS IMS=IP Multimedia Subsystem=Internet Protocol Multimedia Subsystem=IP多媒体子系统 =IMCNS=IM CN Subsystem=IP Multimedia Core Network Subsystem=IP多媒体核心网络子系统 是什么：一个基于互联网协议提供多媒体业务的体系架构 属于3GPP组织旗下的 3GPP=3rd Generation Partnership Project 作用：提供一种通用的架构，用来实现/提供VoIP和多媒体服务 历史 IMS发展历史 3GPP R5 第一次提出IMS概念： 2G发展到3G阶段，出现W-CDMA网络（UMTS） 基于SIP多媒体领域（domain） 加到了 NGN网络 也支持GSM和GPRS网络 3GPP R6 新增支持WLAN的互联（interworking） 3GPP R7 支持固定网络，和TISPAN一起支持更多类型网络 其内部是：SOA=Subsystem-Oriented Architecture=面向子系统的架构 出现 Early IMS=早期IMS 支持IPv4网络 为IPv6提供扩展路径 最新叫法：IMS = core IMS 蜂窝网络发展历史 1G 使用模拟信号传输 只支持CS传输电话语音 2G 全数字 支持CS的语音和数据（传输）服务 2.5G 新增PS交换数据服务 在2G基础上 3G （尝试）提供基于PS的全部类型的服务 包括传统的电话语音 特点 模块化modular 可扩展extendable 背景 文字 传统移动电话使用类电路交换网络提供语音通话服务 而非使用计算机分组交换通信方式的网络。 虽然已有很多方式在智能手机上提供网络电话与其他互联网多媒体服务 但并未形成行业标准 IMS则为此提供了一个标准化体系架构 图 应用演化直到IMS 希望用IMS实现各种功能和服务 接入方式=接入网络 早期： GPRS 后续：支持其他 WLAN CDMA2000 固定电话线 等 新应用 presence information video conferencing POC=Push to talk over Cellular multiparty gaming community services content sharing crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 09:11:14 "},"ims/arch.html":{"url":"ims/arch.html","title":"IMS架构","keywords":"","body":"IMS架构 3GPP / TISPAN IMS 架构网络 说明 NGN=Next Generation Networking TISPAN：提供了DSL访问的规范 TISPAN=tispan=Telecoms & Internet converged Services & Protocols for Advanced Networks=电信和互联网融合业务及高级网络协议 SGW=Signaling Gateway 作用：在传输层（SCCP, SCTP）中处理信号转换 A-RACF=Access - Resource and Admission Control Function NASS=Network Attachment Subsystem=网络附着子系统 DSLAM=Digital Subscriber Line Access Multiplexer 更侧重interface接口的IMS架构 其他版本的架构 简化版IMS架构 IMS总体架构 IMS architecture for SBC 相关架构 IMS方案 FiberHome IMS Solution IMS架构和接口 3GPP R7参考模型 TISPAN R1参考模型 基于IMS的下一代服务平台 Service Convergence in Quadruple Play NG Service Platform The IMS-based Design OMA IMS in OMA服务环境上下文 OMA SIMPLE 即时通讯参考模型 Parlay X网络服务 SOA Heterogeneous Services Bus IMS-SOA Architecture crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 09:11:25 "},"ims/element.html":{"url":"ims/element.html","title":"IMS元素","keywords":"","body":"IMS元素 对于IMS架构 其中的： 核心元素和简介 AS=Application Server=应用服务器 Executes service logic associated with value-added services Provides enhanced and intelligent services to subscribers CSCF=Call Session Control Function=调用会话控制功能 P-CSCF=Proxy CSCF is the first point of contact and the control point for the User Equipment (UE) within the Service Provider network. It forwards session requests from the UE to the S-CSCF S-CSCF=Serving CSCF has access to the user subscription data and actually handles the session request I-CSCF=Interrogating CSCF is the first contact point within a Service Provider network for all incoming session requests from another Service Provider BGCF=Breakout Gateway Control Function Identifies the network that will be used for connecting IP sessions to the PSTN HSS=Home Subscriber Server=归属用户服务器=HSS用户数据库 Stores all the static and dynamic information for a subscriber Maintains a list of features and services associated with a user, and also the location and means of access to the user Provides user profile information SLF=Subscription Locator Function Queried during Registration and Session Setup to get the name of the HSS containing the required subscriber specific data MGCF=Media Gateway Control Function Controls the parts of the call state that pertain to connection control for media channels in a T-MGF MGW Selects the CSCF depending on the routing number for incoming calls from legacy networks Performs protocol conversion between ISUP and call control protocols (e.g., SIP) and maintains call states MRF MRFC=Multimedia Resource Function Controller Controls the media stream resources in the MRFP under direction from an S-CSCF or Application Server Interprets information coming from an AS or S-CSCF (e.g., session identifier) and controls MRFP accordingly MRFP=Multimedia Resource Function Processor Provides media resources under the direction of MRFC May generate media streams (e.g., multimedia announcements), mix incoming media streams for multiple parties, or process media streams (e.g., audio trans-coding, media analysis) PDF=Policy Decision Function Provides management of network QoS resources, authorization of resource allocations, and makes policy decisions with regard to use of network QoS resources SPDF=Service Policy Decision Function T-MGF=Trunk Media Gateway Function Terminates bearer channels from a switched circuit network and media streams from a packet network (e.g., RTP streams in an IP network) Establishes and releases connections between these channels under control of the MGCF in support of calls between PSTN and IP network SGF=Signaling Gateway Function Acts as a gateway between the IP call/session control signaling and the SS7-based PSTN signaling May provide signaling translation, for example between SIP and SS7 or simply signaling transport conversion e.g., SS7 over IP to SS7 over TDM A-BGF=Access Border Gateway Function Packet gateway between an access network and a core network used to mask a service provider’s network from access networks, through which UE accessing packet-based services (e.g., IMS, Internet) Functions may include Opening and closing gate, Traffic classification and marking, Traffic policing and shaping, Network address and port translation, and Usage information Under control of the PDF I-BGF=Interconnection Border Gateway Function Packet gateway used to interconnect a service provider’s core network with another service provider’s core network supporting the packet-based services Functions may be the same as that of the A-BGF I-BCF=Interconnection Border Control Function Controls I-BGF to interwork with other packet-based networks May support the following functions (not limited to) Inter-domain protocol normalization and/or repair Inter-domain protocol interworking Interaction with PDF for resource reservation, resource allocation, and/or other resource related information MRB=Media Resource Broker Assigns specific media server resources to incoming calls at the request of service applications (i.e., an AS) Acquires knowledge of media server resources utilization and reservation requests that it can use to help decide which media server resources to assign to resource requests from applications Employs methods/algorithms to determine media server resource assignment 子元素详解 AS AS=Application Server=应用服务器 作用：SIP应用服务器负责和提供服务 其他说明 它与S-CSCF之间使用SIP 模式 基于具体的服务不同，AS可以选择不同的SIP模式 SIP代理模式 SIP用户代理（UA - User agent）模式 SIP B2BUA模式 部署位置 可以设置在：IMS本网内 如果位于本网，它还可以使用Sh或Si接口查询HSS。 也可以设置在：外部的第三方网络 典型案例 VCC Server 由3GPP开发的语音持续调用功能 SIP AS 负责和提供IMS具体服务 IM-SSF =IP Multimedia Service Switching Function=IP多媒体切换功能 SIP和CAP之间的接口，用于与CAMEL应用服务器通信 OSA SCS =OSA Service Capability Server=OSA服务性能服务器 OSA=Open Service Architecture=开放服务架构 SIP和OSA框架之间的接口 多个OSA服务之间的交互 功能模型 AD-ILCM和AS-OLCM用来保存事务状态并且可以根据特定服务的需要保存会话状态 对于S-CSCF来说 AS-ILCM接口是输入端 AS-OLCM接口是输出端 应用逻辑提供服务和AS-ILCM、AS-OLCM之间的交互 PSI =Public Service Identity=公共服务标识 用来标识应用服务提供的服务 PSI可以提供两种标识格式 SIP URI Tel URI 通常被HSS以完整PSI或通配PSI保存 说明 完整PSI包含完整的PSI标识，可以直接用来路游 通配PSI表达一组PSI标识 CSCF CSCF=Call Session Control Function=调用会话控制功能 是什么 SIP服务器和代理共同实现通话控制功能，统称为：CSCF 会话控制流程 功能：它们在IMS系统中处理SIP信号数据包 包含 P-CSCF=Proxy CSCF 概述 is the first point of contact and the control point for the User Equipment (UE) within the Service Provider network. It forwards session requests from the UE to the S-CSCF 是一个SIP代理，作为与IMS终端直联通信点 它可以设置在公网中也可以设置在IMS本网中 某些网络在这个功能组中可能使用了SBC SBC= Session Border Controller=会谈边界控制器 P-CSCF其核心是一个特殊的SBC 该SBC使用的用户网络接口不仅保护网络，也保护了IMS终端 在IMS终端和P-CSCF之间传递加密信号时，使用附加的SBC是毫无意义同时也是不可用的。 终端可以使用DHCP协议来找到它的P-CSCF，也可以使用配置（如出厂设置、3GPP IMS管理对象）、或是记录在ISIM中、或是在PDP环境（GPRS PDP Context）中赋值。 其他说明 它在IMS终端注册之前就被分派给IMS终端，并且在注册期间不会改变 它位于所有信号的通路，可以检查所有的信号。IMS终端必须忽略任何其它未加密的信号。 它提供用户的认证，并且为IMS终端创建一个IPsec或TLS连接。这样可以阻止欺骗攻击和重放攻击，并且保护用户的隐私。 它检查信号，确保IMS终端没有企图作弊（比如改变通常信号路游，不遵守IMS网络路游策略） 它也可以使用SigComp压缩和解压缩SIP信息，以降低较慢的无线电链路的负载。 它也可以加入PDF。它可以允许媒体水平的资源（如QoS）可以达到媒体水平。它也可以用作策略控制、带宽管理等等。 PDF=Policy Decision Function=策略决择功能 SPDF=Serving Policy Decision Function QoS=Quality of Service PDF也可以作为独立的功能组 它也产生费用记录 S-CSCF=Serving CSCF 概述 has access to the user subscription data and actually handles the session request 从信号层面的来看，S-CSCF是IMS子系统的核心节点 它虽然是SIP服务器，但也负责会话的控制 它永远设置在IMS本网络中，径直地使用Cx和Dx接口访问HSS 它从HSS下载用户配置并且上传用户与S-CSCF关系信息 出于对处理用户配置效率的考虑，S-CSCF会在其本地缓存用户配置。但它不会在本地对用户配置进行更改 所有必要的用户配置信息都会从HSS那里加载 其他说明 它负责处理SIP注册。它会将用户位置（如终端的IP地址）和SIP地址进行绑定。 它位于所有在它那里注册的用户所发出的信号信息的通路上，可以检查所有的信息。 它负责决定SIP信息将抵达哪一个应用服务处理，以完成应用服务。 它提供路游服务，通常是使用电子号码（ENUM - Electronic Numbering）查找 它运行网络运营商的策略 出于分布式负载和高可靠性的原因，IMS网络中允许设置多个S-CSCF。这种情况下，由HSS在用户配置记录哪一个S-CSCF被关系到该用户，而后由I-CSCF来查询这些记录。 I-CSCF=Interrogating CSCF 概述 is the first contact point within a Service Provider network for all incoming session requests from another Service Provider 是另一个位于管理域边缘的功能组 它的IP地址通过DNS发布，所以远程服务器可以查找到它，并把它作为向它所在的域传递SIP包的跳点 功能 它查询HSS，获取S-CSCF的地址并且分派给用户以完成SIP注册。 它也为S-CSCF传递SIP请求和回应 直到IMS第6版，它是可以用来把内网隐藏起来，使外部网络无法获取内部网络的信息（加密部分SIP信息）。这里称之为THIG THIG=Topology Hiding Inter-network Gateway=隐藏内部网络拓扑网关 从第7版开始，这个功能从I-CSCF移走，作为IBCF的一部分。IBCF被用作外部网络的网关，提供NAT和防火墙功能。IBCF实际上是NNI的会谈边界控制器的裁剪版本。 IBCF=Interconnection Border Control Function=互联边界控制功能组 HSS HSS=Home Subscriber Server=归属用户服务器=HSS用户数据库 功能 Stores all the static and dynamic information for a subscriber Maintains a list of features and services associated with a user, and also the location and means of access to the user Provides user profile information 主用户数据库 它为IMS网络中实际管理通话的实体提供支持 如访问用户相关的信息（称之为用户配置），对用户认证和授权以及 提供用户位置IP地址等相关信息 在同时使用多个HSS时，需要SLF映射用户保存的位置 SLF=Subscriber Location Function=用户位置功能组 即当查询某个用户配置时，由SLF指出哪个HSS保存了这个用户配置 保存用户信息 IMPU IMPI IMSI=国际移动用户标识符 MSISDN 用户服务配置 服务开关 其它信息 其他说明 类似的 GSM的 HLR=Home Location Regiser=归属位置寄存器 AuC=Authentication Centre=认证中心 MRF MRF =Media Resource Function=媒体资源功能组 提供与媒体相关的功能，包括媒体处理（如混音）、播放拨号音和语音提示 进一步划分为 MRFC=Media Resource Function Controller=媒体资源功能控制器 MRFC是信号层面的节点，它根据来自AS和S-CSCF的信息来操控MRFP 作用类似于：SIP B2BUA MRFP=Media Resource Function Processor=媒体资源功能处理器 MRFP是媒体层面的节点，用来混合、产生或者处理媒体流。 它也可以管理共享资源的访问权限 MRB =Media Resource Broker=媒体资源协商器 一个功能实体。 负责收集已经发布的MRF信息，并且向AS这样的信息消费实体提供适当的MRF信息。 MRB通常有两个模式： 查询模式：AS主动查询MRB相应的媒体并且创建使用MRB回应的调用。 线性模式：AS向MRB发送SIP INVITE，由MRB创建调用。 BGCF BGCF =Breakout Gateway Control Function=出口网关控制功能 是一个SIP代理，它处理来自S-CSCF的路由请求。 BGCF有基于电话号码的路由功能，用来选择与PSTN网络的接口点。 当BGCF发现被叫网络位于一个PSTN网络时，BGCF就选择一个媒体网关控制功能(MGCF)，将会话路由到MGCF，MGCF负责与PSTN网络交互。 BGF BGF=Border Gateway Function C-BGF=CBGF=Core - Border Gateway Function 是什么：一种访问网关access gateway 位置：介于某种访问网络access network和IMS核心网络（core network）之间 I-BGF=IBGF=Interconnection - Border Gateway Function 是什么：NNI的其中一种 位置：介于core(可信的）和 外部网络 MGCF MGCF =Media Gateway Control Function=媒体网关控制功能 完成IMS网络与PSTN网络之间的调用控制协议转换 主要是将SIP消息转换成ISUP消息。 并控制IM-MGW中媒体信道，管理PSTN网络的承载和与IMS网络的IP流间的连接。 IMS MGW=IMS Media Gateway 其他IMS细节 通话连续性 SR-VCC Enhanced Single Radio Voice Call Continuity Architecture, 3GPP Rel-10 Roaming漫游 IMS Roaming Architecture with LBO and VoLTE MO Call Media Home Routed UNI NNI Reference Points IMS Protocol Stack协议栈 概述 Transport level interworking - Protocol Stack Service level interworking - Protocol Stack crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 09:11:20 "},"ims/related/":{"url":"ims/related/","title":"IMS相关","keywords":"","body":"IMS相关 和IMS相关的有很多协议： IMS相关协议 RFC 1889 Real-time Transport Protocol (RTP) RFC 2327 Session Description Protocol (SDP) RFC 2748 Common Open Policy Server protocol (COPS) RFC 2782 a DNS RR for specifying the location of services (SRV) RFC 2806 URLs for telephone calls (TEL) RFC 2915 the naming authority pointer DNS resource record (NAPTR) RFC 2916 E.164 number and DNS RFC 3261 Session Initiation Protocol (SIP) RFC 3262 reliability of provisional responses (PRACK) RFC 3263 locating SIP servers RFC 3264 an offer/answer model with the Session Description Protocol RFC 3310 HTTP Digest Authentication using Authentication and Key Agreement (AKA) RFC 3311 update method RFC 3312 integration of resource management and SIP RFC 3319 DHCPv6 options for SIP servers RFC 3320 signalling compression (SIGCOMP) RFC 3323 a privacy mechanism for SIP RFC 3324 short term requirements for network asserted identity RFC 3325 private extensions to SIP for asserted identity within trusted networks RFC 3326 the reason header field RFC 3327 extension header field for registering non-adjacent contacts (path header) RFC 3329 security mechanism agreement RFC 3455 private header extensions for SIP RFC 3485 SIP and SDP static dictionary for signaling compression RFC 3574 Transition Scenarios for 3GPP Networks RFC 3588 DIAMETER base protocol RFC 3589 DIAMETER command codes for 3GPP release 5 (informational) RFC 3608 extension header field for service route discovery during registration RFC 3680 SIP event package for registrations RFC 3824 using E164 numbers with SIP 以及其他相关内容。 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 09:55:07 "},"ims/related/sip.html":{"url":"ims/related/sip.html","title":"SIP","keywords":"","body":"SIP SIP=Session Initiation Protocol=会话发起协议 SIP代理 消息类型 Requests INVITE ACK REFER OPTIONS BYE CANCEL REGISTER SUBSCRIBE NOTIFY MESSAGE Responses Success Redirection Forwarding Request failure Server failure Global failure crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 09:50:50 "},"ims/related/user_auth.html":{"url":"ims/related/user_auth.html","title":"用户和认证","keywords":"","body":"用户和认证 此处整理IMS中相关的用户标识，以及如何认证的过程。 用户标识=User identities 用户标识=User Identities=User Identitiy IMS可以使用多种用户标识 IMPI=IP Multimedia Private Identity=IP多媒体私有标识 一种由主网络操作者永久性分派的全局性标识 可以用于注册、认证、管理和计费等用途 每个IMS用户可以有多个IMPI IMPU=IP Multimedia PUblic Identity=IP多媒体公共标识 当IMS用户想要和其他用户通信时，需要使用IP多媒体公有标识 它可以写在那个人的名片上 IMS允许一个IMPI上绑定多个IMPU。 IMPU也可以和其它电话共享 就像一个家庭使用一个电话号码 WPUI=Wildcarded Public User Identity=通配公共享户标识 表示一组相似的IMPU GRUU=Globally Routable User Agent URI=全局可路游用户代理统一资源标识符 一个由IMPU和UE实例组成的标识符 IMS中有两类GRUU 公共GRUU(P-GRUU) 明示了用户的IMPU并且长期有效 临时GRUU(T-GRUU) 隐藏了用户的IMPU 当用户显式注销T-GRUU或者过了有效期时，T-GRUU就会失效 说明 IMPI和IMPU是一种URI URI=统一资源标识符 它可以是 数字：Tel URI 举例 tel: +1-555-123-4567 字符标识符SIP URI 举例： sip:john.doe@example.com 去掉前缀后 举例 +31 72 5621771 sales@vc4.com IMS中用户身份和编号基础知识 IMS中用户身份和编号 基础知识 ISIM文件结构 ADFI SIM包含内容 EFIMPI – IMS private user identity, EFDOMAIN - Home Network Domain Name, EFIMPU - IMS Public User Identity (one or more), EFAD - Administrative Data (UE operation mode, e.g. normal or type approval), EFARR - Access Rule Reference (access rules for files located under the ISIM ADF), EFIST - ISIM Service Table (lists available optional services:P-CSCF address, Generic Bootstrapping Architecture (GBA), HTTP Digest, GBA-based Local Key Establishment Mechanism, support of P-CSCF discovery for IMS local break out), EFP-CSCF - P-CSCF Address (one or more), EFGBABP - GBA Bootstrapping parameters (contains the AKA Random challenge (RAND) and Bootstrapping Transaction Identifier (B-TID) associate with a GBA bootstrapping procedure), EFGBANL - GBA NAF List (contains the list of NAF_ID and B-TID associated to a GBA NAF derivation procedure) EFNAFKCA - NAF Key Centre Address (one or more). home domain Home network domain name 对应标准：IETF RFC 1035 Home network domain name derivation from IMSI IMPI Private user identity=Private Identity=IP Multimedia Private Identity=IMPI 每个IMS用户都有一个Private User Identities 是Home Network Operator网络运营商？分配的 用途 Registration注册 Authorisation授权 Administration管理 Accounting计费 形式 NAI=Network Access Identifier 语法：username@realm 举例 Private User Identity derivation from IMSI 3GPP中没有IMSI，所以需要从IMSI中推算出来 IMSI=International Mobile Subscriber Identity=国际移动用户识别码 Private user identity derivation from IMSI IMPU =Public User Identity=Public identity=IP Multimedia PUblic identity=IMPU 概述 每个IMS用户都有1或多个IMPU 任何用户都可以用IMPU去和其他用户通信 例如，可以被包含到一个商务名片中 格式 种类 SIP URI 协议标准：IETF RFC 3261 格式：sip:username@domain Tel URI 协议标准：IETF RFC 3966 E.164 number 格式：tel: 说明 不带分隔符 contains a global number without visual separators 举例 文字 SIP URI sip:jakub.bluszcz@ekiga.net Tel URI tel:48399571981 SIP URI sip:+1-212-555-1212 @gateway.com;user=phone 图 WPUI=Wildcarded Public User Identity=通配公共享户标识 IMPU可能会被以WPUI的方式存储在HSS中 WPUI目的是为了针对注册了大量的账号，且其处理方式都类似的场景实现优化 保存成一组类似的账号 也就是：WPUI=Wildcarded Public User Identity 语法 会用到ERE=Extended Regular Expression=扩展正则表达式 分隔符delimiter是：感叹号！ 举例 sip:user!.*!@example.com tel:4832376630!.*! 图 IMPI 和 IMPU 关系 Relationship of Private and Public User Identities crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 09:53:13 "},"ims/related/sbc.html":{"url":"ims/related/sbc.html","title":"SBC","keywords":"","body":"SBC SBC=Session Border Controller=会话边界控制器 是什么：一个 控制器=网络节点=网络元素 位置： 位于IMS系统中 介于2个网络之间的 作用：控制所有的数据传输 包括 信号signalling （媒体）数据media 协议 rfc5853 https://tools.ietf.org/html/rfc5853 用于解决各种问题 多种（访问 接入）网络multiple access networks IPv4/IPv6 SIP normalization VPNs 安全问题security issues DOS attacks topology hiding 加密 信号：TLS和IPSec 媒体数据：SRTP legislative issues=Regulatory=管制 emergency calls legal intercept interworking 媒体相关问题media related problems QoS transcoding media security 实际作用 最早：作为NAT SBC as a NAT 具体例子 VoLTE Call – Data Path 现状 各种类型SBC A-SBC I-SBC ICS-SBC Enterprise SBC Trunking SBC WebRTC GW 功能重叠或独立 某些功能可以独立出其他模块 比如 P-CSCF E-CSCF 最新：把SBC理解为负责安全和连接方面的功能 其他一些也可以被视为SBC的 CBGF E-CSCF ATCF ATGW EATF WebRTC GW ICE 从IMS角度 2种类型SBC 包含 A-SBC=Access-SBC 架构 相关内容=对应功能 P-CSCF=Proxy Call Session Control Function IMS-ALG=IMS Application Level Gateway IMS-AGW=IMS Access Gateway I-SBC=Interconnecting-SBC 相关内容=对应功能 IBCF=Interconnection Border Control Function TrGW=Translation Gateway THIG=Topology Hiding Interwork Gateway IWF 对比 A-SBC and I-SBC 稍微复杂点的情况 Call Forwarding and LI and Interconnect 漫游往往涉及到SBC 可能方案1 可能方案2 可能方案3 LBO-VR with OMR LBO-HR 其他相关架构 Logical Position of D-SBC and SmartEdge BGF in IMS or Other Multimedia Networks crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 09:54:50 "},"ims_based/":{"url":"ims_based/","title":"基于IMS的技术","keywords":"","body":"基于IMS的技术 基于IMS实现的其他技术有： VoLTE RCS ViLTE VoWiFi crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 09:19:18 "},"ims_based/volte.html":{"url":"ims_based/volte.html","title":"VoLTE","keywords":"","body":"VoLTE VoLTE =Voice over LTE 出现背景 3GPP Release 8发布了LTE 现存几种系统 传统的：（基于CS的）语音voice服务 新的：（基于LTE的）多媒体短信SMS服务 范围：通过3G网络实现的 不带CS 几种方案 3GPP的CSFB IMS 非国际标准的VoLGA GSMA建议统一成一种：基于IMS的VoLTE 其他方式都转换成IMS的 Voice service migration 为何需要VoLTE 如果想要在4G网络中实现语音通话=打电话 之前： 需要额外部署实现一套3G网络，底层是用基于CS的方式，去实现语音数据传输，实现打电话 接入方式效率很低，还需要占用收取授权费的频谱 有了VoLTE 在已有的4G的LTE/EPC网络之上，基于PS的方式，传输控制信号和语音媒体数据，实现打电话 无需额外的3G网络 大大提高了通信效率 现状 VoLTE广泛流行，主流网络运营商都已支持 相关 ViLTE 作为VoLTE的补充 也是GMSA制定的规范 也正在被慢慢接受 前景 VoLTE和ViLTE逐渐成为基于IP的网络的核心服务 就像 语音是2G和3G网络的核心服务 功能 实现高清电话 用于帮助网络运营商对抗OTT互联网的VoIP服务 优势和特点 延迟更低，容量更高 对比 OTT的VoIP 其最大化利用了底层网络能力 会在一定程度上影响音视频服务的质量 支持QoS 架构 VoLTE的架构=Profile=configuration VoLTE network configuration -> VoLTE Profile中： 定义了：UNI 但是没定义：NNI 涉及到不同网络之间的交互和漫游 其他规范中定义了 GSMA PRD IR.92 Depiction of UE and Network Protocol Stacks in IMS Profile for Voice 作用 VoLTE中的 SIP 用于 （传输）控制（信号） registration authentication addressing call establishment call termination SDP 用于 （传输音视频）数据 RTP media and bandwidth negotiation 服务标准：SR-VCC SR-VCC=Single Radio Voice Call Continuity 背景 当LTE网络还没完全覆盖时，但却又希望提供VoLTE和ViLTE的服务 方案 为了解决当单射频UE在LTE/Pre-LTE 网络和2G/3G CS网络之间移动时，如何保证语音呼叫连续性的问题 3GPP提出的一种VoLTE语音业务连续性方案 实现2G/23到VoLTE的语音电话的无缝衔接 实现voice call continuity=持续性语言呼叫=保持语音的持续性（不断掉） 等级 eSRVCC= enhanced SR-VCC vSRVCC= video SR-VCC rSRVCC= reverse SR-VCC 具体实现路径（策略） 有多种 根据运营商的不同情况 可用的频谱多少 语音策略 技术架构 商业目标 市场情况 举例 逐渐演化的方式 以CSFB开始 先部署好IMS 在LTE网络没有完全覆盖之前 再引入SR-VCC 一步到位方式 当LTE网络完全覆盖后 再直接实现VoLTE 编解码codec EVS=Enhanced Voice Services 不同模式 WB=WideBand SWB=Super-WideBand FB=Full-Band 不同比特率 符合监管Regulatory 美国和加拿大 E-911 location requirements text-to-911 紧急和警报服务 emergency and alerting services 合法监听 lawful interception 政府优先服务 government priority services 漫游 架构=模型 旧：LBO=Local Breakout 新：S8HR=S8 Home Routed 涉及到多个方面 收费 billing and charging 紧急情况 emergency 合法监听 lawful interception 实现方案 举例 某公司：CATALEYA crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 15:27:54 "},"ims_based/rcs.html":{"url":"ims_based/rcs.html","title":"RCS","keywords":"","body":"RCS 详见独立教程： 5G消息RCS技术总结 RCS技术开发总结 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 15:27:22 "},"ims_based/vilte.html":{"url":"ims_based/vilte.html","title":"ViLTE","keywords":"","body":"ViLTE ViLTE =Video over LTE crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 15:26:22 "},"ims_based/wowifi.html":{"url":"ims_based/wowifi.html","title":"VoWiFi","keywords":"","body":"VoWiFi VoWiFi =Voice over Wi-Fi 架构 TS-23-402 architecture enhancements for non-3GPP (non-roaming) access crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 09:19:57 "},"appendix/":{"url":"appendix/","title":"附录","keywords":"","body":"附录 下面列出相关参考资料。 crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-03-17 09:11:34 "},"appendix/terminology.html":{"url":"appendix/terminology.html","title":"名词术语","keywords":"","body":"名词术语 AMPS=Advanced Mobile Phone System TACS=Total Access Communications System NMT=Nordisk MobilTelefoni 英语名：Nordic Mobile Telephone C-Netz 德语：Funktelefonnetz-C 英语：Radio Telephone Network C D-AMPS=Digital Advanced Mobile Phone System IS-95=Interim Standard 1995 IRAT=Inter Radio Access Technology IMT2000=International Mobile Telecommunication specifications for the year 2000 TD-SCDMA=Time division-synchronous code-division multiple access TDD=Time Division Duplex BTS=Base Transceiver Station NR=New Radio BSC=Base Station Controller RNC=Radio Network Controller eNB=eNodeB=evolved Node B CSFB=Circuit Switched Fallback VoLGA=Voice over LTE via Generic Access CS=Circuit Switched PS=Packet Switched ViLTE=Video over LTE VoLTE=Voice over LTE QoS=Quality of Service SR-VCC=Single Radio Voice Call Continuity eSRVCC= enhanced SR-VCC vSRVCC= video SR-VCC rSRVCC= reverse SR-VCC IMS=IP Multimedia Subsystem EVS=Enhanced Voice Services WB=WideBand SWB=Super-WideBand FB=Full-Band LBO=Local Breakout S8HR=S8 Home Routed crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 15:28:09 "},"appendix/reference.html":{"url":"appendix/reference.html","title":"参考资料","keywords":"","body":"参考资料 DOING: TODO: DONE: 【整理】什么是GPRS GSM LTE 5G技术概述 5G消息RCS技术总结 RCS技术开发总结 Full MVNO Architecture - HSS/HLR, GMSC, GGSN, PGW and SMSC What is GSM, EDGE, GPRS, UMTS 3G, HSDPA, HSUPA, LTE – 4G LTE Mall CDMA vs GSM vs LTE: The Differences & What You Need to Know | US Mobile What is the difference between GSM, UMTS and LTE? - Commsbrief Past and present reports - Mobility Report - Ericsson june2020-ericsson-mobility-report.pdf Difference between digital and analogue mobile networks - Commsbrief What is a GSM network and how does it work? - Commsbrief - Mobile Networks & Devices What is the average speed of 4G LTE? Commsbrief Mobile Networks & Devices 3G - 维基百科，自由的百科全书 3G - Wikipedia High Speed Packet Access - Wikipedia 5G NR - Wikipedia What is the Difference Between 5G NR and 4G LTE? – Router Switch Blog What is the difference between 5G NR and 4G LTE? Differentiate Between 4G LTE and Non-Standalone 5G NR Antennas | Microwaves & RF Qualcomm Future of 5G Building a unified, more capable 5G air interface for the next decade and beyond The-5G-Guide_GSMA_2019_04_29_compressed.pdf crifan.com，使用署名4.0国际(CC BY 4.0)协议发布 all right reserved，powered by Gitbook最后更新： 2020-09-15 15:27:16 "}}